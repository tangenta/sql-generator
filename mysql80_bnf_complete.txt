simple_statement_or_begin: simple_statement
| begin_stmt

simple_statement: alter_database_stmt
| alter_event_stmt
| alter_function_stmt
| alter_instance_stmt
| alter_logfile_stmt
| alter_procedure_stmt
| alter_resource_group_stmt
| alter_server_stmt
| alter_tablespace_stmt
| alter_undo_tablespace_stmt
| alter_table_stmt
| alter_user_stmt
| alter_view_stmt
| analyze_table_stmt
| binlog_base64_event
| call_stmt
| change
| check_table_stmt
| checksum
| clone_stmt
| commit
| create
| create_index_stmt
| create_resource_group_stmt
| create_role_stmt
| create_srs_stmt
| create_table_stmt
| deallocate
| delete_stmt
| describe_stmt
| do_stmt
| drop_database_stmt
| drop_event_stmt
| drop_function_stmt
| drop_index_stmt
| drop_logfile_stmt
| drop_procedure_stmt
| drop_resource_group_stmt
| drop_role_stmt
| drop_server_stmt
| drop_srs_stmt
| drop_tablespace_stmt
| drop_undo_tablespace_stmt
| drop_table_stmt
| drop_trigger_stmt
| drop_user_stmt
| drop_view_stmt
| execute
| explain_stmt
| flush
| get_diagnostics
| group_replication
| grant
| handler_stmt
| help
| import_stmt
| insert_stmt
| install
| kill
| load_stmt
| lock
| optimize_table_stmt
| keycache_stmt
| preload_stmt
| prepare
| purge
| release
| rename
| repair_table_stmt
| replace_stmt
| reset
| resignal_stmt
| restart_server_stmt
| revoke
| rollback
| savepoint
| select_stmt
| set
| set_resource_group_stmt
| set_role_stmt
| signal_stmt
| show
| shutdown_stmt
| slave
| start
| truncate_stmt
| uninstall
| unlock
| update_stmt
| use
| xa

deallocate: deallocate_or_drop PREPARE_SYM ident

deallocate_or_drop: DEALLOCATE_SYM
| DROP

prepare: PREPARE_SYM ident FROM prepare_src

prepare_src: TEXT_STRING_sys
| '@' ident_or_text

$@2: %empty

execute: EXECUTE_SYM ident $@2 execute_using

execute_using: %empty
| USING execute_var_list

execute_var_list: execute_var_list ',' execute_var_ident
| execute_var_ident

execute_var_ident: '@' ident_or_text

$@3: %empty

help: HELP_SYM $@3 ident_or_text

$@4: %empty

change: CHANGE MASTER_SYM TO_SYM $@4 master_defs opt_channel

$@5: %empty

change: CHANGE REPLICATION FILTER_SYM $@5 filter_defs opt_channel

filter_defs: filter_def
| filter_defs ',' filter_def

filter_def: REPLICATE_DO_DB EQ opt_filter_db_list
| REPLICATE_IGNORE_DB EQ opt_filter_db_list
| REPLICATE_DO_TABLE EQ opt_filter_table_list
| REPLICATE_IGNORE_TABLE EQ opt_filter_table_list
| REPLICATE_WILD_DO_TABLE EQ opt_filter_string_list
| REPLICATE_WILD_IGNORE_TABLE EQ opt_filter_string_list
| REPLICATE_REWRITE_DB EQ opt_filter_db_pair_list

opt_filter_db_list: '(' ')'
| '(' filter_db_list ')'

filter_db_list: filter_db_ident
| filter_db_list ',' filter_db_ident

filter_db_ident: ident

opt_filter_db_pair_list: '(' ')'
| '(' filter_db_pair_list ')'

filter_db_pair_list: '(' filter_db_ident ',' filter_db_ident ')'
| filter_db_pair_list ',' '(' filter_db_ident ',' filter_db_ident ')'

opt_filter_table_list: '(' ')'
| '(' filter_table_list ')'

filter_table_list: filter_table_ident
| filter_table_list ',' filter_table_ident

filter_table_ident: schema '.' ident

opt_filter_string_list: '(' ')'
| '(' filter_string_list ')'

filter_string_list: filter_string
| filter_string_list ',' filter_string

filter_string: filter_wild_db_table_string

master_defs: master_def
| master_defs ',' master_def

master_def: MASTER_HOST_SYM EQ TEXT_STRING_sys_nonewline
| NETWORK_NAMESPACE_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_BIND_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_USER_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_PASSWORD_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_PORT_SYM EQ ulong_num
| MASTER_CONNECT_RETRY_SYM EQ ulong_num
| MASTER_RETRY_COUNT_SYM EQ ulong_num
| MASTER_DELAY_SYM EQ ulong_num
| MASTER_SSL_SYM EQ ulong_num
| MASTER_SSL_CA_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_CAPATH_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_TLS_VERSION_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_CERT_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_CIPHER_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_KEY_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_VERIFY_SERVER_CERT_SYM EQ ulong_num
| MASTER_SSL_CRL_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_SSL_CRLPATH_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_PUBLIC_KEY_PATH_SYM EQ TEXT_STRING_sys_nonewline
| GET_MASTER_PUBLIC_KEY_SYM EQ ulong_num
| MASTER_HEARTBEAT_PERIOD_SYM EQ NUM_literal
| IGNORE_SERVER_IDS_SYM EQ '(' ignore_server_id_list ')'
| MASTER_AUTO_POSITION_SYM EQ ulong_num
| master_file_def

ignore_server_id_list: %empty
| ignore_server_id
| ignore_server_id_list ',' ignore_server_id

ignore_server_id: ulong_num

master_file_def: MASTER_LOG_FILE_SYM EQ TEXT_STRING_sys_nonewline
| MASTER_LOG_POS_SYM EQ ulonglong_num
| RELAY_LOG_FILE_SYM EQ TEXT_STRING_sys_nonewline
| RELAY_LOG_POS_SYM EQ ulong_num

opt_channel: %empty
| FOR_SYM CHANNEL_SYM TEXT_STRING_sys_nonewline

create_table_stmt: CREATE opt_temporary TABLE_SYM opt_if_not_exists table_ident '(' table_element_list ')' opt_create_table_options_etc
| CREATE opt_temporary TABLE_SYM opt_if_not_exists table_ident opt_create_table_options_etc
| CREATE opt_temporary TABLE_SYM opt_if_not_exists table_ident LIKE table_ident
| CREATE opt_temporary TABLE_SYM opt_if_not_exists table_ident '(' LIKE table_ident ')'

create_role_stmt: CREATE ROLE_SYM opt_if_not_exists role_list

create_resource_group_stmt: CREATE RESOURCE_SYM GROUP_SYM ident TYPE_SYM opt_equal resource_group_types opt_resource_group_vcpu_list opt_resource_group_priority opt_resource_group_enable_disable

$@6: %empty

create: CREATE DATABASE opt_if_not_exists ident $@6 opt_create_database_options
| CREATE view_or_trigger_or_sp_or_event
| CREATE USER opt_if_not_exists create_user_list default_role_clause require_clause connect_options opt_account_lock_password_expire_options
| CREATE LOGFILE_SYM GROUP_SYM ident ADD lg_undofile opt_logfile_group_options
| CREATE TABLESPACE_SYM ident opt_ts_datafile_name opt_logfile_group_name opt_tablespace_options
| CREATE UNDO_SYM TABLESPACE_SYM ident ADD ts_datafile opt_undo_tablespace_options
| CREATE SERVER_SYM ident_or_text FOREIGN DATA_SYM WRAPPER_SYM ident_or_text OPTIONS_SYM '(' server_options_list ')'

create_srs_stmt: CREATE OR_SYM REPLACE_SYM SPATIAL_SYM REFERENCE_SYM SYSTEM_SYM real_ulonglong_num srs_attributes
| CREATE SPATIAL_SYM REFERENCE_SYM SYSTEM_SYM opt_if_not_exists real_ulonglong_num srs_attributes

srs_attributes: %empty
| srs_attributes NAME_SYM TEXT_STRING_sys_nonewline
| srs_attributes DEFINITION_SYM TEXT_STRING_sys_nonewline
| srs_attributes ORGANIZATION_SYM TEXT_STRING_sys_nonewline IDENTIFIED_SYM BY real_ulonglong_num
| srs_attributes DESCRIPTION_SYM TEXT_STRING_sys_nonewline

default_role_clause: %empty
| DEFAULT_SYM ROLE_SYM role_list

create_index_stmt: CREATE opt_unique INDEX_SYM ident opt_index_type_clause ON_SYM table_ident '(' key_list_with_expression ')' opt_index_options opt_index_lock_and_algorithm
| CREATE FULLTEXT_SYM INDEX_SYM ident ON_SYM table_ident '(' key_list_with_expression ')' opt_fulltext_index_options opt_index_lock_and_algorithm
| CREATE SPATIAL_SYM INDEX_SYM ident ON_SYM table_ident '(' key_list_with_expression ')' opt_spatial_index_options opt_index_lock_and_algorithm

server_options_list: server_option
| server_options_list ',' server_option

server_option: USER TEXT_STRING_sys
| HOST_SYM TEXT_STRING_sys
| DATABASE TEXT_STRING_sys
| OWNER_SYM TEXT_STRING_sys
| PASSWORD TEXT_STRING_sys
| SOCKET_SYM TEXT_STRING_sys
| PORT_SYM ulong_num

$@7: %empty

event_tail: EVENT_SYM opt_if_not_exists sp_name $@7 ON_SYM SCHEDULE_SYM ev_schedule_time opt_ev_on_completion opt_ev_status opt_ev_comment DO_SYM ev_sql_stmt

$@8: %empty

ev_schedule_time: EVERY_SYM expr interval $@8 ev_starts ev_ends
| AT_SYM expr

opt_ev_status: %empty
| ENABLE_SYM
| DISABLE_SYM ON_SYM SLAVE
| DISABLE_SYM

ev_starts: %empty
| STARTS_SYM expr

ev_ends: %empty
| ENDS_SYM expr

opt_ev_on_completion: %empty
| ev_on_completion

ev_on_completion: ON_SYM COMPLETION_SYM PRESERVE_SYM
| ON_SYM COMPLETION_SYM NOT_SYM PRESERVE_SYM

opt_ev_comment: %empty
| COMMENT_SYM TEXT_STRING_sys

$@9: %empty

ev_sql_stmt: $@9 ev_sql_stmt_inner

ev_sql_stmt_inner: sp_proc_stmt_statement
| sp_proc_stmt_return
| sp_proc_stmt_if
| case_stmt_specification
| sp_labeled_block
| sp_unlabeled_block
| sp_labeled_control
| sp_proc_stmt_unlabeled
| sp_proc_stmt_leave
| sp_proc_stmt_iterate
| sp_proc_stmt_open
| sp_proc_stmt_fetch
| sp_proc_stmt_close

sp_name: ident '.' ident
| ident

sp_a_chistics: %empty
| sp_a_chistics sp_chistic

sp_c_chistics: %empty
| sp_c_chistics sp_c_chistic

sp_chistic: COMMENT_SYM TEXT_STRING_sys
| LANGUAGE_SYM SQL_SYM
| NO_SYM SQL_SYM
| CONTAINS_SYM SQL_SYM
| READS_SYM SQL_SYM DATA_SYM
| MODIFIES_SYM SQL_SYM DATA_SYM
| sp_suid

sp_c_chistic: sp_chistic
| DETERMINISTIC_SYM
| not DETERMINISTIC_SYM

sp_suid: SQL_SYM SECURITY_SYM DEFINER_SYM
| SQL_SYM SECURITY_SYM INVOKER_SYM

call_stmt: CALL_SYM sp_name opt_paren_expr_list

opt_paren_expr_list: %empty
| '(' opt_expr_list ')'

sp_fdparam_list: %empty
| sp_fdparams

sp_fdparams: sp_fdparams ',' sp_fdparam
| sp_fdparam

sp_fdparam: ident type opt_collate

sp_pdparam_list: %empty
| sp_pdparams

sp_pdparams: sp_pdparams ',' sp_pdparam
| sp_pdparam

sp_pdparam: sp_opt_inout ident type opt_collate

sp_opt_inout: %empty
| IN_SYM
| OUT_SYM
| INOUT_SYM

sp_proc_stmts: %empty
| sp_proc_stmts sp_proc_stmt ';'

sp_proc_stmts1: sp_proc_stmt ';'
| sp_proc_stmts1 sp_proc_stmt ';'

sp_decls: %empty
| sp_decls sp_decl ';'

sp_decl: DECLARE_SYM sp_decl_idents type opt_collate sp_opt_default
| DECLARE_SYM ident CONDITION_SYM FOR_SYM sp_cond

$@10: %empty

sp_decl: DECLARE_SYM sp_handler_type HANDLER_SYM FOR_SYM $@10 sp_hcond_list sp_proc_stmt

$@11: %empty

sp_decl: DECLARE_SYM ident CURSOR_SYM FOR_SYM $@11 select_stmt

sp_handler_type: EXIT_SYM
| CONTINUE_SYM

sp_hcond_list: sp_hcond_element
| sp_hcond_list ',' sp_hcond_element

sp_hcond_element: sp_hcond

sp_cond: ulong_num
| sqlstate

sqlstate: SQLSTATE_SYM opt_value TEXT_STRING_literal

opt_value: %empty
| VALUE_SYM

sp_hcond: sp_cond
| ident
| SQLWARNING_SYM
| not FOUND_SYM
| SQLEXCEPTION_SYM

signal_stmt: SIGNAL_SYM signal_value opt_set_signal_information

signal_value: ident
| sqlstate

opt_signal_value: %empty
| signal_value

opt_set_signal_information: %empty
| SET_SYM signal_information_item_list

signal_information_item_list: signal_condition_information_item_name EQ signal_allowed_expr
| signal_information_item_list ',' signal_condition_information_item_name EQ signal_allowed_expr

signal_allowed_expr: literal
| variable
| simple_ident

signal_condition_information_item_name: CLASS_ORIGIN_SYM
| SUBCLASS_ORIGIN_SYM
| CONSTRAINT_CATALOG_SYM
| CONSTRAINT_SCHEMA_SYM
| CONSTRAINT_NAME_SYM
| CATALOG_NAME_SYM
| SCHEMA_NAME_SYM
| TABLE_NAME_SYM
| COLUMN_NAME_SYM
| CURSOR_NAME_SYM
| MESSAGE_TEXT_SYM
| MYSQL_ERRNO_SYM

resignal_stmt: RESIGNAL_SYM opt_signal_value opt_set_signal_information

get_diagnostics: GET_SYM which_area DIAGNOSTICS_SYM diagnostics_information

which_area: %empty
| CURRENT_SYM
| STACKED_SYM

diagnostics_information: statement_information
| CONDITION_SYM condition_number condition_information

statement_information: statement_information_item
| statement_information ',' statement_information_item

statement_information_item: simple_target_specification EQ statement_information_item_name

simple_target_specification: ident
| '@' ident_or_text

statement_information_item_name: NUMBER_SYM
| ROW_COUNT_SYM

condition_number: signal_allowed_expr

condition_information: condition_information_item
| condition_information ',' condition_information_item

condition_information_item: simple_target_specification EQ condition_information_item_name

condition_information_item_name: CLASS_ORIGIN_SYM
| SUBCLASS_ORIGIN_SYM
| CONSTRAINT_CATALOG_SYM
| CONSTRAINT_SCHEMA_SYM
| CONSTRAINT_NAME_SYM
| CATALOG_NAME_SYM
| SCHEMA_NAME_SYM
| TABLE_NAME_SYM
| COLUMN_NAME_SYM
| CURSOR_NAME_SYM
| MESSAGE_TEXT_SYM
| MYSQL_ERRNO_SYM
| RETURNED_SQLSTATE_SYM

sp_decl_idents: ident
| sp_decl_idents ',' ident

sp_opt_default: %empty
| DEFAULT_SYM expr

sp_proc_stmt: sp_proc_stmt_statement
| sp_proc_stmt_return
| sp_proc_stmt_if
| case_stmt_specification
| sp_labeled_block
| sp_unlabeled_block
| sp_labeled_control
| sp_proc_stmt_unlabeled
| sp_proc_stmt_leave
| sp_proc_stmt_iterate
| sp_proc_stmt_open
| sp_proc_stmt_fetch
| sp_proc_stmt_close

$@12: %empty

sp_proc_stmt_if: IF $@12 sp_if END IF

$@13: %empty

sp_proc_stmt_statement: $@13 simple_statement

$@14: %empty

sp_proc_stmt_return: RETURN_SYM $@14 expr

$@15: %empty

sp_proc_stmt_unlabeled: $@15 sp_unlabeled_control

sp_proc_stmt_leave: LEAVE_SYM label_ident

sp_proc_stmt_iterate: ITERATE_SYM label_ident

sp_proc_stmt_open: OPEN_SYM ident

$@16: %empty

sp_proc_stmt_fetch: FETCH_SYM sp_opt_fetch_noise ident INTO $@16 sp_fetch_list

sp_proc_stmt_close: CLOSE_SYM ident

sp_opt_fetch_noise: %empty
| NEXT_SYM FROM
| FROM

sp_fetch_list: ident
| sp_fetch_list ',' ident

$@17: %empty

$@18: %empty

$@19: %empty

sp_if: $@17 expr $@18 THEN_SYM sp_proc_stmts1 $@19 sp_elseifs

sp_elseifs: %empty
| ELSEIF_SYM sp_if
| ELSE sp_proc_stmts1

case_stmt_specification: simple_case_stmt
| searched_case_stmt

$@20: %empty

$@21: %empty

simple_case_stmt: CASE_SYM $@20 expr $@21 simple_when_clause_list else_clause_opt END CASE_SYM

$@22: %empty

searched_case_stmt: CASE_SYM $@22 searched_when_clause_list else_clause_opt END CASE_SYM

simple_when_clause_list: simple_when_clause
| simple_when_clause_list simple_when_clause

searched_when_clause_list: searched_when_clause
| searched_when_clause_list searched_when_clause

$@23: %empty

$@24: %empty

simple_when_clause: WHEN_SYM $@23 expr $@24 THEN_SYM sp_proc_stmts1

$@25: %empty

$@26: %empty

searched_when_clause: WHEN_SYM $@25 expr $@26 THEN_SYM sp_proc_stmts1

else_clause_opt: %empty
| ELSE sp_proc_stmts1

$@27: %empty

sp_labeled_control: label_ident ':' $@27 sp_unlabeled_control sp_opt_label

sp_opt_label: %empty
| label_ident

$@28: %empty

sp_labeled_block: label_ident ':' $@28 sp_block_content sp_opt_label

$@29: %empty

sp_unlabeled_block: $@29 sp_block_content

$@30: %empty

sp_block_content: BEGIN_SYM $@30 sp_decls sp_proc_stmts END

sp_unlabeled_control: LOOP_SYM sp_proc_stmts1 END LOOP_SYM

$@31: %empty

$@32: %empty

sp_unlabeled_control: WHILE_SYM $@31 expr $@32 DO_SYM sp_proc_stmts1 END WHILE_SYM

$@33: %empty

$@34: %empty

sp_unlabeled_control: REPEAT_SYM sp_proc_stmts1 UNTIL_SYM $@33 expr $@34 END REPEAT_SYM

trg_action_time: BEFORE_SYM
| AFTER_SYM

trg_event: INSERT_SYM
| UPDATE_SYM
| DELETE_SYM

opt_ts_datafile_name: %empty
| ADD ts_datafile

opt_logfile_group_name: %empty
| USE_SYM LOGFILE_SYM GROUP_SYM ident

opt_tablespace_options: %empty
| tablespace_option_list

tablespace_option_list: tablespace_option
| tablespace_option_list opt_comma tablespace_option

tablespace_option: ts_option_initial_size
| ts_option_autoextend_size
| ts_option_max_size
| ts_option_extent_size
| ts_option_nodegroup
| ts_option_engine
| ts_option_wait
| ts_option_comment
| ts_option_file_block_size
| ts_option_encryption

opt_alter_tablespace_options: %empty
| alter_tablespace_option_list

alter_tablespace_option_list: alter_tablespace_option
| alter_tablespace_option_list opt_comma alter_tablespace_option

alter_tablespace_option: ts_option_initial_size
| ts_option_autoextend_size
| ts_option_max_size
| ts_option_engine
| ts_option_wait
| ts_option_encryption

opt_undo_tablespace_options: %empty
| undo_tablespace_option_list

undo_tablespace_option_list: undo_tablespace_option
| undo_tablespace_option_list opt_comma undo_tablespace_option

undo_tablespace_option: ts_option_engine

opt_logfile_group_options: %empty
| logfile_group_option_list

logfile_group_option_list: logfile_group_option
| logfile_group_option_list opt_comma logfile_group_option

logfile_group_option: ts_option_initial_size
| ts_option_undo_buffer_size
| ts_option_redo_buffer_size
| ts_option_nodegroup
| ts_option_engine
| ts_option_wait
| ts_option_comment

opt_alter_logfile_group_options: %empty
| alter_logfile_group_option_list

alter_logfile_group_option_list: alter_logfile_group_option
| alter_logfile_group_option_list opt_comma alter_logfile_group_option

alter_logfile_group_option: ts_option_initial_size
| ts_option_engine
| ts_option_wait

ts_datafile: DATAFILE_SYM TEXT_STRING_sys

undo_tablespace_state: ACTIVE_SYM
| INACTIVE_SYM

lg_undofile: UNDOFILE_SYM TEXT_STRING_sys

ts_option_initial_size: INITIAL_SIZE_SYM opt_equal size_number

ts_option_autoextend_size: AUTOEXTEND_SIZE_SYM opt_equal size_number

ts_option_max_size: MAX_SIZE_SYM opt_equal size_number

ts_option_extent_size: EXTENT_SIZE_SYM opt_equal size_number

ts_option_undo_buffer_size: UNDO_BUFFER_SIZE_SYM opt_equal size_number

ts_option_redo_buffer_size: REDO_BUFFER_SIZE_SYM opt_equal size_number

ts_option_nodegroup: NODEGROUP_SYM opt_equal real_ulong_num

ts_option_comment: COMMENT_SYM opt_equal TEXT_STRING_sys

ts_option_engine: opt_storage ENGINE_SYM opt_equal ident_or_text

ts_option_file_block_size: FILE_BLOCK_SIZE_SYM opt_equal size_number

ts_option_wait: WAIT_SYM
| NO_WAIT_SYM

ts_option_encryption: ENCRYPTION_SYM opt_equal TEXT_STRING_sys

size_number: real_ulonglong_num
| IDENT_sys

opt_create_table_options_etc: create_table_options opt_create_partitioning_etc
| opt_create_partitioning_etc

opt_create_partitioning_etc: partition_clause opt_duplicate_as_qe
| opt_duplicate_as_qe

opt_duplicate_as_qe: %empty
| duplicate as_create_query_expression
| as_create_query_expression

as_create_query_expression: AS query_expression_or_parens
| query_expression_or_parens

partition_clause: PARTITION_SYM BY part_type_def opt_num_parts opt_sub_part opt_part_defs

part_type_def: opt_linear KEY_SYM opt_key_algo '(' opt_name_list ')'
| opt_linear HASH_SYM '(' bit_expr ')'
| RANGE_SYM '(' bit_expr ')'
| RANGE_SYM COLUMNS '(' name_list ')'
| LIST_SYM '(' bit_expr ')'
| LIST_SYM COLUMNS '(' name_list ')'

opt_linear: %empty
| LINEAR_SYM

opt_key_algo: %empty
| ALGORITHM_SYM EQ real_ulong_num

opt_num_parts: %empty
| PARTITIONS_SYM real_ulong_num

opt_sub_part: %empty
| SUBPARTITION_SYM BY opt_linear HASH_SYM '(' bit_expr ')' opt_num_subparts
| SUBPARTITION_SYM BY opt_linear KEY_SYM opt_key_algo '(' name_list ')' opt_num_subparts

opt_name_list: %empty
| name_list

name_list: ident
| name_list ',' ident

opt_num_subparts: %empty
| SUBPARTITIONS_SYM real_ulong_num

opt_part_defs: %empty
| '(' part_def_list ')'

part_def_list: part_definition
| part_def_list ',' part_definition

part_definition: PARTITION_SYM ident opt_part_values opt_part_options opt_sub_partition

opt_part_values: %empty
| VALUES LESS_SYM THAN_SYM part_func_max
| VALUES IN_SYM part_values_in

part_func_max: MAX_VALUE_SYM
| part_value_item_list_paren

part_values_in: part_value_item_list_paren
| '(' part_value_list ')'

part_value_list: part_value_item_list_paren
| part_value_list ',' part_value_item_list_paren

$@35: %empty

part_value_item_list_paren: '(' $@35 part_value_item_list ')'

part_value_item_list: part_value_item
| part_value_item_list ',' part_value_item

part_value_item: MAX_VALUE_SYM
| bit_expr

opt_sub_partition: %empty
| '(' sub_part_list ')'

sub_part_list: sub_part_definition
| sub_part_list ',' sub_part_definition

sub_part_definition: SUBPARTITION_SYM ident_or_text opt_part_options

opt_part_options: %empty
| part_option_list

part_option_list: part_option_list part_option
| part_option

part_option: TABLESPACE_SYM opt_equal ident
| opt_storage ENGINE_SYM opt_equal ident_or_text
| NODEGROUP_SYM opt_equal real_ulong_num
| MAX_ROWS opt_equal real_ulonglong_num
| MIN_ROWS opt_equal real_ulonglong_num
| DATA_SYM DIRECTORY_SYM opt_equal TEXT_STRING_sys
| INDEX_SYM DIRECTORY_SYM opt_equal TEXT_STRING_sys
| COMMENT_SYM opt_equal TEXT_STRING_sys

opt_create_database_options: %empty
| create_database_options

create_database_options: create_database_option
| create_database_options create_database_option

create_database_option: default_collation
| default_charset
| default_encryption

opt_if_not_exists: %empty
| IF not EXISTS

create_table_options_space_separated: create_table_option
| create_table_options_space_separated create_table_option

create_table_options: create_table_option
| create_table_options opt_comma create_table_option

opt_comma: %empty
| ','

create_table_option: ENGINE_SYM opt_equal ident_or_text
| SECONDARY_ENGINE_SYM opt_equal NULL_SYM
| SECONDARY_ENGINE_SYM opt_equal ident_or_text
| MAX_ROWS opt_equal ulonglong_num
| MIN_ROWS opt_equal ulonglong_num
| AVG_ROW_LENGTH opt_equal ulong_num
| PASSWORD opt_equal TEXT_STRING_sys
| COMMENT_SYM opt_equal TEXT_STRING_sys
| COMPRESSION_SYM opt_equal TEXT_STRING_sys
| ENCRYPTION_SYM opt_equal TEXT_STRING_sys
| AUTO_INC opt_equal ulonglong_num
| PACK_KEYS_SYM opt_equal ternary_option
| STATS_AUTO_RECALC_SYM opt_equal ternary_option
| STATS_PERSISTENT_SYM opt_equal ternary_option
| STATS_SAMPLE_PAGES_SYM opt_equal ulong_num
| STATS_SAMPLE_PAGES_SYM opt_equal DEFAULT_SYM
| CHECKSUM_SYM opt_equal ulong_num
| TABLE_CHECKSUM_SYM opt_equal ulong_num
| DELAY_KEY_WRITE_SYM opt_equal ulong_num
| ROW_FORMAT_SYM opt_equal row_types
| UNION_SYM opt_equal '(' opt_table_list ')'
| default_charset
| default_collation
| INSERT_METHOD opt_equal merge_insert_types
| DATA_SYM DIRECTORY_SYM opt_equal TEXT_STRING_sys
| INDEX_SYM DIRECTORY_SYM opt_equal TEXT_STRING_sys
| TABLESPACE_SYM opt_equal ident
| STORAGE_SYM DISK_SYM
| STORAGE_SYM MEMORY_SYM
| CONNECTION_SYM opt_equal TEXT_STRING_sys
| KEY_BLOCK_SIZE opt_equal ulong_num

ternary_option: ulong_num
| DEFAULT_SYM

default_charset: opt_default character_set opt_equal charset_name

default_collation: opt_default COLLATE_SYM opt_equal collation_name

default_encryption: opt_default ENCRYPTION_SYM opt_equal TEXT_STRING_sys

row_types: DEFAULT_SYM
| FIXED_SYM
| DYNAMIC_SYM
| COMPRESSED_SYM
| REDUNDANT_SYM
| COMPACT_SYM

merge_insert_types: NO_SYM
| FIRST_SYM
| LAST_SYM

udf_type: STRING_SYM
| REAL_SYM
| DECIMAL_SYM
| INT_SYM

table_element_list: table_element
| table_element_list ',' table_element

table_element: column_def
| table_constraint_def

column_def: ident field_def opt_references

opt_references: %empty
| references

table_constraint_def: key_or_index opt_index_name_and_type '(' key_list_with_expression ')' opt_index_options
| FULLTEXT_SYM opt_key_or_index opt_ident '(' key_list_with_expression ')' opt_fulltext_index_options
| SPATIAL_SYM opt_key_or_index opt_ident '(' key_list_with_expression ')' opt_spatial_index_options
| opt_constraint_name constraint_key_type opt_index_name_and_type '(' key_list_with_expression ')' opt_index_options
| opt_constraint_name FOREIGN KEY_SYM opt_ident '(' key_list ')' references
| opt_constraint_name check_constraint opt_constraint_enforcement

check_constraint: CHECK_SYM '(' expr ')'

opt_constraint_name: %empty
| CONSTRAINT opt_ident

opt_not: %empty
| NOT_SYM

opt_constraint_enforcement: %empty
| constraint_enforcement

constraint_enforcement: opt_not ENFORCED_SYM

field_def: type opt_column_attribute_list
| type opt_collate opt_generated_always AS '(' expr ')' opt_stored_attribute opt_column_attribute_list

opt_generated_always: %empty
| GENERATED ALWAYS_SYM

opt_stored_attribute: %empty
| VIRTUAL_SYM
| STORED_SYM

type: int_type opt_field_length field_options
| real_type opt_precision field_options
| numeric_type float_options field_options
| BIT_SYM
| BIT_SYM field_length
| BOOL_SYM
| BOOLEAN_SYM
| CHAR_SYM field_length opt_charset_with_opt_binary
| CHAR_SYM opt_charset_with_opt_binary
| nchar field_length opt_bin_mod
| nchar opt_bin_mod
| BINARY_SYM field_length
| BINARY_SYM
| varchar field_length opt_charset_with_opt_binary
| nvarchar field_length opt_bin_mod
| VARBINARY_SYM field_length
| YEAR_SYM opt_field_length field_options
| DATE_SYM
| TIME_SYM type_datetime_precision
| TIMESTAMP_SYM type_datetime_precision
| DATETIME_SYM type_datetime_precision
| TINYBLOB_SYM
| BLOB_SYM opt_field_length
| spatial_type
| MEDIUMBLOB_SYM
| LONGBLOB_SYM
| LONG_SYM VARBINARY_SYM
| LONG_SYM varchar opt_charset_with_opt_binary
| TINYTEXT_SYN opt_charset_with_opt_binary
| TEXT_SYM opt_field_length opt_charset_with_opt_binary
| MEDIUMTEXT_SYM opt_charset_with_opt_binary
| LONGTEXT_SYM opt_charset_with_opt_binary
| ENUM_SYM '(' string_list ')' opt_charset_with_opt_binary
| SET_SYM '(' string_list ')' opt_charset_with_opt_binary
| LONG_SYM opt_charset_with_opt_binary
| SERIAL_SYM
| JSON_SYM

spatial_type: GEOMETRY_SYM
| GEOMETRYCOLLECTION_SYM
| POINT_SYM
| MULTIPOINT_SYM
| LINESTRING_SYM
| MULTILINESTRING_SYM
| POLYGON_SYM
| MULTIPOLYGON_SYM

nchar: NCHAR_SYM
| NATIONAL_SYM CHAR_SYM

varchar: CHAR_SYM VARYING
| VARCHAR_SYM

nvarchar: NATIONAL_SYM VARCHAR_SYM
| NVARCHAR_SYM
| NCHAR_SYM VARCHAR_SYM
| NATIONAL_SYM CHAR_SYM VARYING
| NCHAR_SYM VARYING

int_type: INT_SYM
| TINYINT_SYM
| SMALLINT_SYM
| MEDIUMINT_SYM
| BIGINT_SYM

real_type: REAL_SYM
| DOUBLE_SYM opt_PRECISION

opt_PRECISION: %empty
| PRECISION

numeric_type: FLOAT_SYM
| DECIMAL_SYM
| NUMERIC_SYM
| FIXED_SYM

standard_float_options: %empty
| field_length

float_options: %empty
| field_length
| precision

precision: '(' NUM ',' NUM ')'

type_datetime_precision: %empty
| '(' NUM ')'

func_datetime_precision: %empty
| '(' ')'
| '(' NUM ')'

field_options: %empty
| field_opt_list

field_opt_list: field_opt_list field_option
| field_option

field_option: SIGNED_SYM
| UNSIGNED_SYM
| ZEROFILL_SYM

field_length: '(' LONG_NUM ')'
| '(' ULONGLONG_NUM ')'
| '(' DECIMAL_NUM ')'
| '(' NUM ')'

opt_field_length: %empty
| field_length

opt_precision: %empty
| precision

opt_column_attribute_list: %empty
| column_attribute_list

column_attribute_list: column_attribute_list column_attribute
| column_attribute

column_attribute: NULL_SYM
| not NULL_SYM
| not SECONDARY_SYM
| DEFAULT_SYM now_or_signed_literal
| DEFAULT_SYM '(' expr ')'
| ON_SYM UPDATE_SYM now
| AUTO_INC
| SERIAL_SYM DEFAULT_SYM VALUE_SYM
| opt_primary KEY_SYM
| UNIQUE_SYM
| UNIQUE_SYM KEY_SYM
| COMMENT_SYM TEXT_STRING_sys
| COLLATE_SYM collation_name
| COLUMN_FORMAT_SYM column_format
| STORAGE_SYM storage_media
| SRID_SYM real_ulonglong_num
| opt_constraint_name check_constraint
| constraint_enforcement

column_format: DEFAULT_SYM
| FIXED_SYM
| DYNAMIC_SYM

storage_media: DEFAULT_SYM
| DISK_SYM
| MEMORY_SYM

now: NOW_SYM func_datetime_precision

now_or_signed_literal: now
| signed_literal

character_set: CHAR_SYM SET_SYM
| CHARSET

charset_name: ident_or_text
| BINARY_SYM

opt_load_data_charset: %empty
| character_set charset_name

old_or_new_charset_name: ident_or_text
| BINARY_SYM

old_or_new_charset_name_or_default: old_or_new_charset_name
| DEFAULT_SYM

collation_name: ident_or_text

opt_collate: %empty
| COLLATE_SYM collation_name

opt_default: %empty
| DEFAULT_SYM

ascii: ASCII_SYM
| BINARY_SYM ASCII_SYM
| ASCII_SYM BINARY_SYM

unicode: UNICODE_SYM
| UNICODE_SYM BINARY_SYM
| BINARY_SYM UNICODE_SYM

opt_charset_with_opt_binary: %empty
| ascii
| unicode
| BYTE_SYM
| character_set charset_name opt_bin_mod
| BINARY_SYM
| BINARY_SYM character_set charset_name

opt_bin_mod: %empty
| BINARY_SYM

$@36: %empty

ws_num_codepoints: '(' real_ulong_num $@36 ')'

opt_primary: %empty
| PRIMARY_SYM

references: REFERENCES table_ident opt_ref_list opt_match_clause opt_on_update_delete

opt_ref_list: %empty
| '(' reference_list ')'

reference_list: reference_list ',' ident
| ident

opt_match_clause: %empty
| MATCH FULL
| MATCH PARTIAL
| MATCH SIMPLE_SYM

opt_on_update_delete: %empty
| ON_SYM UPDATE_SYM delete_option
| ON_SYM DELETE_SYM delete_option
| ON_SYM UPDATE_SYM delete_option ON_SYM DELETE_SYM delete_option
| ON_SYM DELETE_SYM delete_option ON_SYM UPDATE_SYM delete_option

delete_option: RESTRICT
| CASCADE
| SET_SYM NULL_SYM
| NO_SYM ACTION
| SET_SYM DEFAULT_SYM

constraint_key_type: PRIMARY_SYM KEY_SYM
| UNIQUE_SYM opt_key_or_index

key_or_index: KEY_SYM
| INDEX_SYM

opt_key_or_index: %empty
| key_or_index

keys_or_index: KEYS
| INDEX_SYM
| INDEXES

opt_unique: %empty
| UNIQUE_SYM

opt_fulltext_index_options: %empty
| fulltext_index_options

fulltext_index_options: fulltext_index_option
| fulltext_index_options fulltext_index_option

fulltext_index_option: common_index_option
| WITH PARSER_SYM IDENT_sys

opt_spatial_index_options: %empty
| spatial_index_options

spatial_index_options: spatial_index_option
| spatial_index_options spatial_index_option

spatial_index_option: common_index_option

opt_index_options: %empty
| index_options

index_options: index_option
| index_options index_option

index_option: common_index_option
| index_type_clause

common_index_option: KEY_BLOCK_SIZE opt_equal ulong_num
| COMMENT_SYM TEXT_STRING_sys
| visibility

opt_index_name_and_type: opt_ident
| opt_ident USING index_type
| ident TYPE_SYM index_type

opt_index_type_clause: %empty
| index_type_clause

index_type_clause: USING index_type
| TYPE_SYM index_type

visibility: VISIBLE_SYM
| INVISIBLE_SYM

index_type: BTREE_SYM
| RTREE_SYM
| HASH_SYM

key_list: key_list ',' key_part
| key_part

key_part: ident opt_ordering_direction
| ident '(' NUM ')' opt_ordering_direction

key_list_with_expression: key_list_with_expression ',' key_part_with_expression
| key_part_with_expression

key_part_with_expression: key_part
| '(' expr ')' opt_ordering_direction

opt_ident: %empty
| ident

opt_component: %empty
| '.' ident

string_list: text_string
| string_list ',' text_string

alter_table_stmt: ALTER TABLE_SYM table_ident opt_alter_table_actions
| ALTER TABLE_SYM table_ident standalone_alter_table_action

$@37: %empty

alter_database_stmt: ALTER DATABASE ident_or_empty $@37 create_database_options

$@38: %empty

alter_procedure_stmt: ALTER PROCEDURE_SYM sp_name $@38 sp_a_chistics

$@39: %empty

alter_function_stmt: ALTER FUNCTION_SYM sp_name $@39 sp_a_chistics

$@40: %empty

alter_view_stmt: ALTER view_algorithm definer_opt $@40 view_tail

$@41: %empty

alter_view_stmt: ALTER definer_opt $@41 view_tail

$@42: %empty

alter_event_stmt: ALTER definer_opt EVENT_SYM sp_name $@42 ev_alter_on_schedule_completion opt_ev_rename_to opt_ev_status opt_ev_comment opt_ev_sql_stmt

alter_logfile_stmt: ALTER LOGFILE_SYM GROUP_SYM ident ADD lg_undofile opt_alter_logfile_group_options

alter_tablespace_stmt: ALTER TABLESPACE_SYM ident ADD ts_datafile opt_alter_tablespace_options
| ALTER TABLESPACE_SYM ident DROP ts_datafile opt_alter_tablespace_options
| ALTER TABLESPACE_SYM ident RENAME TO_SYM ident
| ALTER TABLESPACE_SYM ident alter_tablespace_option_list

alter_undo_tablespace_stmt: ALTER UNDO_SYM TABLESPACE_SYM ident SET_SYM undo_tablespace_state opt_undo_tablespace_options

alter_server_stmt: ALTER SERVER_SYM ident_or_text OPTIONS_SYM '(' server_options_list ')'

alter_user_stmt: alter_user_command alter_user_list require_clause connect_options opt_account_lock_password_expire_options
| alter_user_command user_func IDENTIFIED_SYM BY TEXT_STRING opt_replace_password opt_retain_current_password
| alter_user_command user_func DISCARD_SYM OLD_SYM PASSWORD
| alter_user_command user DEFAULT_SYM ROLE_SYM ALL
| alter_user_command user DEFAULT_SYM ROLE_SYM NONE_SYM
| alter_user_command user DEFAULT_SYM ROLE_SYM role_list

opt_replace_password: %empty
| REPLACE_SYM TEXT_STRING_password

alter_resource_group_stmt: ALTER RESOURCE_SYM GROUP_SYM ident opt_resource_group_vcpu_list opt_resource_group_priority opt_resource_group_enable_disable opt_force

alter_user_command: ALTER USER if_exists

opt_account_lock_password_expire_options: %empty
| opt_account_lock_password_expire_option_list

opt_account_lock_password_expire_option_list: opt_account_lock_password_expire_option
| opt_account_lock_password_expire_option_list opt_account_lock_password_expire_option

opt_account_lock_password_expire_option: ACCOUNT_SYM UNLOCK_SYM
| ACCOUNT_SYM LOCK_SYM
| PASSWORD EXPIRE_SYM
| PASSWORD EXPIRE_SYM INTERVAL_SYM real_ulong_num DAY_SYM
| PASSWORD EXPIRE_SYM NEVER_SYM
| PASSWORD EXPIRE_SYM DEFAULT_SYM
| PASSWORD HISTORY_SYM real_ulong_num
| PASSWORD HISTORY_SYM DEFAULT_SYM
| PASSWORD REUSE_SYM INTERVAL_SYM real_ulong_num DAY_SYM
| PASSWORD REUSE_SYM INTERVAL_SYM DEFAULT_SYM
| PASSWORD REQUIRE_SYM CURRENT_SYM
| PASSWORD REQUIRE_SYM CURRENT_SYM DEFAULT_SYM
| PASSWORD REQUIRE_SYM CURRENT_SYM OPTIONAL_SYM

connect_options: %empty
| WITH connect_option_list

connect_option_list: connect_option_list connect_option
| connect_option

connect_option: MAX_QUERIES_PER_HOUR ulong_num
| MAX_UPDATES_PER_HOUR ulong_num
| MAX_CONNECTIONS_PER_HOUR ulong_num
| MAX_USER_CONNECTIONS_SYM ulong_num

user_func: USER '(' ')'

ev_alter_on_schedule_completion: %empty
| ON_SYM SCHEDULE_SYM ev_schedule_time
| ev_on_completion
| ON_SYM SCHEDULE_SYM ev_schedule_time ev_on_completion

opt_ev_rename_to: %empty
| RENAME TO_SYM sp_name

opt_ev_sql_stmt: %empty
| DO_SYM ev_sql_stmt

ident_or_empty: %empty
| ident

opt_alter_table_actions: opt_alter_command_list
| opt_alter_command_list alter_table_partition_options

standalone_alter_table_action: standalone_alter_commands
| alter_commands_modifier_list ',' standalone_alter_commands

alter_table_partition_options: partition_clause
| REMOVE_SYM PARTITIONING_SYM

opt_alter_command_list: %empty
| alter_commands_modifier_list
| alter_list
| alter_commands_modifier_list ',' alter_list

standalone_alter_commands: DISCARD_SYM TABLESPACE_SYM
| IMPORT TABLESPACE_SYM
| ADD PARTITION_SYM opt_no_write_to_binlog
| ADD PARTITION_SYM opt_no_write_to_binlog '(' part_def_list ')'
| ADD PARTITION_SYM opt_no_write_to_binlog PARTITIONS_SYM real_ulong_num
| DROP PARTITION_SYM ident_string_list
| REBUILD_SYM PARTITION_SYM opt_no_write_to_binlog all_or_alt_part_name_list
| OPTIMIZE PARTITION_SYM opt_no_write_to_binlog all_or_alt_part_name_list
| ANALYZE_SYM PARTITION_SYM opt_no_write_to_binlog all_or_alt_part_name_list
| CHECK_SYM PARTITION_SYM all_or_alt_part_name_list opt_mi_check_types
| REPAIR PARTITION_SYM opt_no_write_to_binlog all_or_alt_part_name_list opt_mi_repair_types
| COALESCE PARTITION_SYM opt_no_write_to_binlog real_ulong_num
| TRUNCATE_SYM PARTITION_SYM all_or_alt_part_name_list
| REORGANIZE_SYM PARTITION_SYM opt_no_write_to_binlog
| REORGANIZE_SYM PARTITION_SYM opt_no_write_to_binlog ident_string_list INTO '(' part_def_list ')'
| EXCHANGE_SYM PARTITION_SYM ident WITH TABLE_SYM table_ident opt_with_validation
| DISCARD_SYM PARTITION_SYM all_or_alt_part_name_list TABLESPACE_SYM
| IMPORT PARTITION_SYM all_or_alt_part_name_list TABLESPACE_SYM
| SECONDARY_LOAD_SYM
| SECONDARY_UNLOAD_SYM

opt_with_validation: %empty
| with_validation

with_validation: WITH VALIDATION_SYM
| WITHOUT_SYM VALIDATION_SYM

all_or_alt_part_name_list: ALL
| ident_string_list

alter_list: alter_list_item
| alter_list ',' alter_list_item
| alter_list ',' alter_commands_modifier
| create_table_options_space_separated
| alter_list ',' create_table_options_space_separated

alter_commands_modifier_list: alter_commands_modifier
| alter_commands_modifier_list ',' alter_commands_modifier

alter_list_item: ADD opt_column ident field_def opt_references opt_place
| ADD opt_column '(' table_element_list ')'
| ADD table_constraint_def
| CHANGE opt_column ident ident field_def opt_place
| MODIFY_SYM opt_column ident field_def opt_place
| DROP opt_column ident opt_restrict
| DROP FOREIGN KEY_SYM ident
| DROP PRIMARY_SYM KEY_SYM
| DROP key_or_index ident
| DROP CHECK_SYM ident
| DISABLE_SYM KEYS
| ENABLE_SYM KEYS
| ALTER opt_column ident SET_SYM DEFAULT_SYM signed_literal
| ALTER opt_column ident SET_SYM DEFAULT_SYM '(' expr ')'
| ALTER opt_column ident DROP DEFAULT_SYM
| ALTER INDEX_SYM ident visibility
| ALTER CHECK_SYM ident constraint_enforcement
| RENAME opt_to table_ident
| RENAME key_or_index ident TO_SYM ident
| RENAME COLUMN_SYM ident TO_SYM ident
| CONVERT_SYM TO_SYM character_set charset_name opt_collate
| CONVERT_SYM TO_SYM character_set DEFAULT_SYM opt_collate
| FORCE_SYM
| ORDER_SYM BY alter_order_list

alter_commands_modifier: alter_algorithm_option
| alter_lock_option
| with_validation

opt_index_lock_and_algorithm: %empty
| alter_lock_option
| alter_algorithm_option
| alter_lock_option alter_algorithm_option
| alter_algorithm_option alter_lock_option

alter_algorithm_option: ALGORITHM_SYM opt_equal alter_algorithm_option_value

alter_algorithm_option_value: DEFAULT_SYM
| ident

alter_lock_option: LOCK_SYM opt_equal alter_lock_option_value

alter_lock_option_value: DEFAULT_SYM
| ident

opt_column: %empty
| COLUMN_SYM

opt_ignore: %empty
| IGNORE_SYM

opt_restrict: %empty
| RESTRICT
| CASCADE

opt_place: %empty
| AFTER_SYM ident
| FIRST_SYM

opt_to: %empty
| TO_SYM
| EQ
| AS

group_replication: START_SYM GROUP_REPLICATION
| STOP_SYM GROUP_REPLICATION

slave: slave_start start_slave_opts
| STOP_SYM SLAVE opt_slave_thread_option_list opt_channel

slave_start: START_SYM SLAVE opt_slave_thread_option_list

$@43: %empty

start_slave_opts: slave_until slave_connection_opts $@43 opt_channel

start: START_SYM TRANSACTION_SYM opt_start_transaction_option_list

opt_start_transaction_option_list: %empty
| start_transaction_option_list

start_transaction_option_list: start_transaction_option
| start_transaction_option_list ',' start_transaction_option

start_transaction_option: WITH CONSISTENT_SYM SNAPSHOT_SYM
| READ_SYM ONLY_SYM
| READ_SYM WRITE_SYM

slave_connection_opts: slave_user_name_opt slave_user_pass_opt slave_plugin_auth_opt slave_plugin_dir_opt

slave_user_name_opt: %empty
| USER EQ TEXT_STRING_sys

slave_user_pass_opt: %empty
| PASSWORD EQ TEXT_STRING_sys

slave_plugin_auth_opt: %empty
| DEFAULT_AUTH_SYM EQ TEXT_STRING_sys

slave_plugin_dir_opt: %empty
| PLUGIN_DIR_SYM EQ TEXT_STRING_sys

opt_slave_thread_option_list: %empty
| slave_thread_option_list

slave_thread_option_list: slave_thread_option
| slave_thread_option_list ',' slave_thread_option

slave_thread_option: SQL_THREAD
| RELAY_THREAD

slave_until: %empty
| UNTIL_SYM slave_until_opts

slave_until_opts: master_file_def
| slave_until_opts ',' master_file_def
| SQL_BEFORE_GTIDS EQ TEXT_STRING_sys
| SQL_AFTER_GTIDS EQ TEXT_STRING_sys
| SQL_AFTER_MTS_GAPS

checksum: CHECKSUM_SYM table_or_tables table_list opt_checksum_type

opt_checksum_type: %empty
| QUICK
| EXTENDED_SYM

repair_table_stmt: REPAIR opt_no_write_to_binlog table_or_tables table_list opt_mi_repair_types

opt_mi_repair_types: %empty
| mi_repair_types

mi_repair_types: mi_repair_type
| mi_repair_types mi_repair_type

mi_repair_type: QUICK
| EXTENDED_SYM
| USE_FRM

analyze_table_stmt: ANALYZE_SYM opt_no_write_to_binlog table_or_tables table_list opt_histogram

opt_num_buckets: %empty
| WITH NUM BUCKETS_SYM

opt_histogram: %empty
| UPDATE_SYM HISTOGRAM_SYM ON_SYM ident_string_list opt_num_buckets
| DROP HISTOGRAM_SYM ON_SYM ident_string_list

binlog_base64_event: BINLOG_SYM TEXT_STRING_sys

check_table_stmt: CHECK_SYM table_or_tables table_list opt_mi_check_types

opt_mi_check_types: %empty
| mi_check_types

mi_check_types: mi_check_type
| mi_check_type mi_check_types

mi_check_type: QUICK
| FAST_SYM
| MEDIUM_SYM
| EXTENDED_SYM
| CHANGED
| FOR_SYM UPGRADE_SYM

optimize_table_stmt: OPTIMIZE opt_no_write_to_binlog table_or_tables table_list

opt_no_write_to_binlog: %empty
| NO_WRITE_TO_BINLOG
| LOCAL_SYM

$@44: %empty

rename: RENAME table_or_tables $@44 table_to_table_list
| RENAME USER rename_list

rename_list: user TO_SYM user
| rename_list ',' user TO_SYM user

table_to_table_list: table_to_table
| table_to_table_list ',' table_to_table

table_to_table: table_ident TO_SYM table_ident

keycache_stmt: CACHE_SYM INDEX_SYM keycache_list IN_SYM key_cache_name
| CACHE_SYM INDEX_SYM table_ident adm_partition opt_cache_key_list IN_SYM key_cache_name

keycache_list: assign_to_keycache
| keycache_list ',' assign_to_keycache

assign_to_keycache: table_ident opt_cache_key_list

key_cache_name: ident
| DEFAULT_SYM

preload_stmt: LOAD INDEX_SYM INTO CACHE_SYM table_ident adm_partition opt_cache_key_list opt_ignore_leaves
| LOAD INDEX_SYM INTO CACHE_SYM preload_list

preload_list: preload_keys
| preload_list ',' preload_keys

preload_keys: table_ident opt_cache_key_list opt_ignore_leaves

adm_partition: PARTITION_SYM '(' all_or_alt_part_name_list ')'

opt_cache_key_list: %empty
| key_or_index '(' opt_key_usage_list ')'

opt_ignore_leaves: %empty
| IGNORE_SYM LEAVES

select_stmt: query_expression
| query_expression_parens
| select_stmt_with_into

select_stmt_with_into: '(' select_stmt_with_into ')'
| query_expression into_clause

query_expression: query_expression_body opt_order_clause opt_limit_clause opt_locking_clause_list
| with_clause query_expression_body opt_order_clause opt_limit_clause opt_locking_clause_list
| query_expression_parens order_clause opt_limit_clause opt_locking_clause_list
| with_clause query_expression_parens order_clause opt_limit_clause opt_locking_clause_list
| query_expression_parens limit_clause opt_locking_clause_list
| with_clause query_expression_parens limit_clause opt_locking_clause_list
| with_clause query_expression_parens opt_locking_clause_list

query_expression_body: query_primary
| query_expression_body UNION_SYM union_option query_primary
| query_expression_parens UNION_SYM union_option query_primary
| query_expression_body UNION_SYM union_option query_expression_parens
| query_expression_parens UNION_SYM union_option query_expression_parens

query_expression_parens: '(' query_expression_parens ')'
| '(' query_expression ')'

query_primary: query_specification

query_specification: SELECT_SYM select_options select_item_list into_clause opt_from_clause opt_where_clause opt_group_clause opt_having_clause opt_window_clause
| SELECT_SYM select_options select_item_list opt_from_clause opt_where_clause opt_group_clause opt_having_clause opt_window_clause

opt_from_clause: %empty
| from_clause

from_clause: FROM from_tables

from_tables: DUAL_SYM
| table_reference_list

table_reference_list: table_reference
| table_reference_list ',' table_reference

select_options: %empty
| select_option_list

select_option_list: select_option_list select_option
| select_option

select_option: query_spec_option
| SQL_NO_CACHE_SYM

opt_locking_clause_list: %empty
| locking_clause_list

locking_clause_list: locking_clause_list locking_clause
| locking_clause

locking_clause: FOR_SYM lock_strength opt_locked_row_action
| FOR_SYM lock_strength table_locking_list opt_locked_row_action
| LOCK_SYM IN_SYM SHARE_SYM MODE_SYM

lock_strength: UPDATE_SYM
| SHARE_SYM

table_locking_list: OF_SYM table_alias_ref_list

opt_locked_row_action: %empty
| locked_row_action

locked_row_action: SKIP_SYM LOCKED_SYM
| NOWAIT_SYM

select_item_list: select_item_list ',' select_item
| select_item
| '*'

select_item: table_wild
| expr select_alias

select_alias: %empty
| AS ident
| AS TEXT_STRING_validated
| ident
| TEXT_STRING_validated

optional_braces: %empty
| '(' ')'

expr: expr or expr
| expr XOR expr
| expr and expr
| NOT_SYM expr
| bool_pri IS TRUE_SYM
| bool_pri IS not TRUE_SYM
| bool_pri IS FALSE_SYM
| bool_pri IS not FALSE_SYM
| bool_pri IS UNKNOWN_SYM
| bool_pri IS not UNKNOWN_SYM
| bool_pri

bool_pri: bool_pri IS NULL_SYM
| bool_pri IS not NULL_SYM
| bool_pri comp_op predicate
| bool_pri comp_op all_or_any table_subquery
| predicate

predicate: bit_expr IN_SYM table_subquery
| bit_expr not IN_SYM table_subquery
| bit_expr IN_SYM '(' expr ')'
| bit_expr IN_SYM '(' expr ',' expr_list ')'
| bit_expr not IN_SYM '(' expr ')'
| bit_expr not IN_SYM '(' expr ',' expr_list ')'
| bit_expr MEMBER_SYM opt_of '(' simple_expr ')'
| bit_expr BETWEEN_SYM bit_expr AND_SYM predicate
| bit_expr not BETWEEN_SYM bit_expr AND_SYM predicate
| bit_expr SOUNDS_SYM LIKE bit_expr
| bit_expr LIKE simple_expr
| bit_expr LIKE simple_expr ESCAPE_SYM simple_expr
| bit_expr not LIKE simple_expr
| bit_expr not LIKE simple_expr ESCAPE_SYM simple_expr
| bit_expr REGEXP bit_expr
| bit_expr not REGEXP bit_expr
| bit_expr

opt_of: OF_SYM
| %empty

bit_expr: bit_expr '|' bit_expr
| bit_expr '&' bit_expr
| bit_expr SHIFT_LEFT bit_expr
| bit_expr SHIFT_RIGHT bit_expr
| bit_expr '+' bit_expr
| bit_expr '-' bit_expr
| bit_expr '+' INTERVAL_SYM expr interval
| bit_expr '-' INTERVAL_SYM expr interval
| bit_expr '*' bit_expr
| bit_expr '/' bit_expr
| bit_expr '%' bit_expr
| bit_expr DIV_SYM bit_expr
| bit_expr MOD_SYM bit_expr
| bit_expr '^' bit_expr
| simple_expr

or: OR_SYM
| OR2_SYM

and: AND_SYM
| AND_AND_SYM

not: NOT_SYM
| NOT2_SYM

not2: '!'
| NOT2_SYM

comp_op: EQ
| EQUAL_SYM
| GE
| GT_SYM
| LE
| LT
| NE

all_or_any: ALL
| ANY_SYM

simple_expr: simple_ident
| function_call_keyword
| function_call_nonkeyword
| function_call_generic
| function_call_conflict
| simple_expr COLLATE_SYM ident_or_text
| literal
| param_marker
| variable
| set_function_specification
| window_func_call
| simple_expr OR_OR_SYM simple_expr
| '+' simple_expr
| '-' simple_expr
| '~' simple_expr
| not2 simple_expr
| row_subquery
| '(' expr ')'
| '(' expr ',' expr_list ')'
| ROW_SYM '(' expr ',' expr_list ')'
| EXISTS table_subquery
| '{' ident expr '}'
| MATCH ident_list_arg AGAINST '(' bit_expr fulltext_options ')'
| BINARY_SYM simple_expr
| CAST_SYM '(' expr AS cast_type opt_array_cast ')'
| CASE_SYM opt_expr when_list opt_else END
| CONVERT_SYM '(' expr ',' cast_type ')'
| CONVERT_SYM '(' expr USING charset_name ')'
| DEFAULT_SYM '(' simple_ident ')'
| VALUES '(' simple_ident_nospvar ')'
| INTERVAL_SYM expr interval '+' expr
| simple_ident JSON_SEPARATOR_SYM TEXT_STRING_literal
| simple_ident JSON_UNQUOTED_SEPARATOR_SYM TEXT_STRING_literal

opt_array_cast: %empty
| ARRAY_SYM

function_call_keyword: CHAR_SYM '(' expr_list ')'
| CHAR_SYM '(' expr_list USING charset_name ')'
| CURRENT_USER optional_braces
| DATE_SYM '(' expr ')'
| DAY_SYM '(' expr ')'
| HOUR_SYM '(' expr ')'
| INSERT_SYM '(' expr ',' expr ',' expr ',' expr ')'
| INTERVAL_SYM '(' expr ',' expr ')'
| INTERVAL_SYM '(' expr ',' expr ',' expr_list ')'
| LEFT '(' expr ',' expr ')'
| MINUTE_SYM '(' expr ')'
| MONTH_SYM '(' expr ')'
| RIGHT '(' expr ',' expr ')'
| SECOND_SYM '(' expr ')'
| TIME_SYM '(' expr ')'
| TIMESTAMP_SYM '(' expr ')'
| TIMESTAMP_SYM '(' expr ',' expr ')'
| TRIM '(' expr ')'
| TRIM '(' LEADING expr FROM expr ')'
| TRIM '(' TRAILING expr FROM expr ')'
| TRIM '(' BOTH expr FROM expr ')'
| TRIM '(' LEADING FROM expr ')'
| TRIM '(' TRAILING FROM expr ')'
| TRIM '(' BOTH FROM expr ')'
| TRIM '(' expr FROM expr ')'
| USER '(' ')'
| YEAR_SYM '(' expr ')'

function_call_nonkeyword: ADDDATE_SYM '(' expr ',' expr ')'
| ADDDATE_SYM '(' expr ',' INTERVAL_SYM expr interval ')'
| CURDATE optional_braces
| CURTIME func_datetime_precision
| DATE_ADD_INTERVAL '(' expr ',' INTERVAL_SYM expr interval ')'
| DATE_SUB_INTERVAL '(' expr ',' INTERVAL_SYM expr interval ')'
| EXTRACT_SYM '(' interval FROM expr ')'
| GET_FORMAT '(' date_time_type ',' expr ')'
| now
| POSITION_SYM '(' bit_expr IN_SYM expr ')'
| SUBDATE_SYM '(' expr ',' expr ')'
| SUBDATE_SYM '(' expr ',' INTERVAL_SYM expr interval ')'
| SUBSTRING '(' expr ',' expr ',' expr ')'
| SUBSTRING '(' expr ',' expr ')'
| SUBSTRING '(' expr FROM expr FOR_SYM expr ')'
| SUBSTRING '(' expr FROM expr ')'
| SYSDATE func_datetime_precision
| TIMESTAMP_ADD '(' interval_time_stamp ',' expr ',' expr ')'
| TIMESTAMP_DIFF '(' interval_time_stamp ',' expr ',' expr ')'
| UTC_DATE_SYM optional_braces
| UTC_TIME_SYM func_datetime_precision
| UTC_TIMESTAMP_SYM func_datetime_precision

function_call_conflict: ASCII_SYM '(' expr ')'
| CHARSET '(' expr ')'
| COALESCE '(' expr_list ')'
| COLLATION_SYM '(' expr ')'
| DATABASE '(' ')'
| IF '(' expr ',' expr ',' expr ')'
| FORMAT_SYM '(' expr ',' expr ')'
| FORMAT_SYM '(' expr ',' expr ',' expr ')'
| MICROSECOND_SYM '(' expr ')'
| MOD_SYM '(' expr ',' expr ')'
| QUARTER_SYM '(' expr ')'
| REPEAT_SYM '(' expr ',' expr ')'
| REPLACE_SYM '(' expr ',' expr ',' expr ')'
| REVERSE_SYM '(' expr ')'
| ROW_COUNT_SYM '(' ')'
| TRUNCATE_SYM '(' expr ',' expr ')'
| WEEK_SYM '(' expr ')'
| WEEK_SYM '(' expr ',' expr ')'
| WEIGHT_STRING_SYM '(' expr ')'
| WEIGHT_STRING_SYM '(' expr AS CHAR_SYM ws_num_codepoints ')'
| WEIGHT_STRING_SYM '(' expr AS BINARY_SYM ws_num_codepoints ')'
| WEIGHT_STRING_SYM '(' expr ',' ulong_num ',' ulong_num ',' ulong_num ')'
| geometry_function

geometry_function: GEOMETRYCOLLECTION_SYM '(' opt_expr_list ')'
| LINESTRING_SYM '(' expr_list ')'
| MULTILINESTRING_SYM '(' expr_list ')'
| MULTIPOINT_SYM '(' expr_list ')'
| MULTIPOLYGON_SYM '(' expr_list ')'
| POINT_SYM '(' expr ',' expr ')'
| POLYGON_SYM '(' expr_list ')'

function_call_generic: IDENT_sys '(' opt_udf_expr_list ')'
| ident '.' ident '(' opt_expr_list ')'

fulltext_options: opt_natural_language_mode opt_query_expansion
| IN_SYM BOOLEAN_SYM MODE_SYM

opt_natural_language_mode: %empty
| IN_SYM NATURAL LANGUAGE_SYM MODE_SYM

opt_query_expansion: %empty
| WITH QUERY_SYM EXPANSION_SYM

opt_udf_expr_list: %empty
| udf_expr_list

udf_expr_list: udf_expr
| udf_expr_list ',' udf_expr

udf_expr: expr select_alias

set_function_specification: sum_expr
| grouping_operation

sum_expr: AVG_SYM '(' in_sum_expr ')' opt_windowing_clause
| AVG_SYM '(' DISTINCT in_sum_expr ')' opt_windowing_clause
| BIT_AND_SYM '(' in_sum_expr ')' opt_windowing_clause
| BIT_OR_SYM '(' in_sum_expr ')' opt_windowing_clause
| JSON_ARRAYAGG '(' in_sum_expr ')' opt_windowing_clause
| JSON_OBJECTAGG '(' in_sum_expr ',' in_sum_expr ')' opt_windowing_clause
| BIT_XOR_SYM '(' in_sum_expr ')' opt_windowing_clause
| COUNT_SYM '(' opt_all '*' ')' opt_windowing_clause
| COUNT_SYM '(' in_sum_expr ')' opt_windowing_clause
| COUNT_SYM '(' DISTINCT expr_list ')' opt_windowing_clause
| MIN_SYM '(' in_sum_expr ')' opt_windowing_clause
| MIN_SYM '(' DISTINCT in_sum_expr ')' opt_windowing_clause
| MAX_SYM '(' in_sum_expr ')' opt_windowing_clause
| MAX_SYM '(' DISTINCT in_sum_expr ')' opt_windowing_clause
| STD_SYM '(' in_sum_expr ')' opt_windowing_clause
| VARIANCE_SYM '(' in_sum_expr ')' opt_windowing_clause
| STDDEV_SAMP_SYM '(' in_sum_expr ')' opt_windowing_clause
| VAR_SAMP_SYM '(' in_sum_expr ')' opt_windowing_clause
| SUM_SYM '(' in_sum_expr ')' opt_windowing_clause
| SUM_SYM '(' DISTINCT in_sum_expr ')' opt_windowing_clause
| GROUP_CONCAT_SYM '(' opt_distinct expr_list opt_gorder_clause opt_gconcat_separator ')' opt_windowing_clause

window_func_call: ROW_NUMBER_SYM '(' ')' windowing_clause
| RANK_SYM '(' ')' windowing_clause
| DENSE_RANK_SYM '(' ')' windowing_clause
| CUME_DIST_SYM '(' ')' windowing_clause
| PERCENT_RANK_SYM '(' ')' windowing_clause
| NTILE_SYM '(' simple_expr ')' windowing_clause
| LEAD_SYM '(' expr opt_lead_lag_info ')' opt_null_treatment windowing_clause
| LAG_SYM '(' expr opt_lead_lag_info ')' opt_null_treatment windowing_clause
| FIRST_VALUE_SYM '(' expr ')' opt_null_treatment windowing_clause
| LAST_VALUE_SYM '(' expr ')' opt_null_treatment windowing_clause
| NTH_VALUE_SYM '(' expr ',' simple_expr ')' opt_from_first_last opt_null_treatment windowing_clause

opt_lead_lag_info: %empty
| ',' NUM_literal opt_ll_default
| ',' param_marker opt_ll_default

opt_ll_default: %empty
| ',' expr

opt_null_treatment: %empty
| RESPECT_SYM NULLS_SYM
| IGNORE_SYM NULLS_SYM

opt_from_first_last: %empty
| FROM FIRST_SYM
| FROM LAST_SYM

opt_windowing_clause: %empty
| windowing_clause

windowing_clause: OVER_SYM window_name_or_spec

window_name_or_spec: window_name
| window_spec

window_name: ident

window_spec: '(' window_spec_details ')'

window_spec_details: opt_existing_window_name opt_partition_clause opt_window_order_by_clause opt_window_frame_clause

opt_existing_window_name: %empty
| window_name

opt_partition_clause: %empty
| PARTITION_SYM BY group_list

opt_window_order_by_clause: %empty
| ORDER_SYM BY order_list

opt_window_frame_clause: %empty
| window_frame_units window_frame_extent opt_window_frame_exclusion

window_frame_extent: window_frame_start
| window_frame_between

window_frame_start: UNBOUNDED_SYM PRECEDING_SYM
| NUM_literal PRECEDING_SYM
| param_marker PRECEDING_SYM
| INTERVAL_SYM expr interval PRECEDING_SYM
| CURRENT_SYM ROW_SYM

window_frame_between: BETWEEN_SYM window_frame_bound AND_SYM window_frame_bound

window_frame_bound: window_frame_start
| UNBOUNDED_SYM FOLLOWING_SYM
| NUM_literal FOLLOWING_SYM
| param_marker FOLLOWING_SYM
| INTERVAL_SYM expr interval FOLLOWING_SYM

opt_window_frame_exclusion: %empty
| EXCLUDE_SYM CURRENT_SYM ROW_SYM
| EXCLUDE_SYM GROUP_SYM
| EXCLUDE_SYM TIES_SYM
| EXCLUDE_SYM NO_SYM OTHERS_SYM

window_frame_units: ROWS_SYM
| RANGE_SYM
| GROUPS_SYM

grouping_operation: GROUPING_SYM '(' expr_list ')'

variable: '@' variable_aux

variable_aux: ident_or_text SET_VAR expr
| ident_or_text
| '@' opt_var_ident_type ident_or_text opt_component

opt_distinct: %empty
| DISTINCT

opt_gconcat_separator: %empty
| SEPARATOR_SYM text_string

opt_gorder_clause: %empty
| ORDER_SYM BY gorder_list

gorder_list: gorder_list ',' order_expr
| order_expr

in_sum_expr: opt_all expr

cast_type: BINARY_SYM opt_field_length
| CHAR_SYM opt_field_length opt_charset_with_opt_binary
| nchar opt_field_length
| SIGNED_SYM
| SIGNED_SYM INT_SYM
| UNSIGNED_SYM
| UNSIGNED_SYM INT_SYM
| DATE_SYM
| TIME_SYM type_datetime_precision
| DATETIME_SYM type_datetime_precision
| DECIMAL_SYM float_options
| JSON_SYM
| real_type
| FLOAT_SYM standard_float_options

opt_expr_list: %empty
| expr_list

expr_list: expr
| expr_list ',' expr

ident_list_arg: ident_list
| '(' ident_list ')'

ident_list: simple_ident
| ident_list ',' simple_ident

opt_expr: %empty
| expr

opt_else: %empty
| ELSE expr

when_list: WHEN_SYM expr THEN_SYM expr
| when_list WHEN_SYM expr THEN_SYM expr

table_reference: table_factor
| joined_table
| '{' OJ_SYM esc_table_reference '}'

esc_table_reference: table_factor
| joined_table

joined_table: table_reference inner_join_type table_reference ON_SYM expr
| table_reference inner_join_type table_reference USING '(' using_list ')'
| table_reference outer_join_type table_reference ON_SYM expr
| table_reference outer_join_type table_reference USING '(' using_list ')'
| table_reference inner_join_type table_reference
| table_reference natural_join_type table_factor

natural_join_type: NATURAL opt_inner JOIN_SYM
| NATURAL RIGHT opt_outer JOIN_SYM
| NATURAL LEFT opt_outer JOIN_SYM

inner_join_type: JOIN_SYM
| INNER_SYM JOIN_SYM
| CROSS JOIN_SYM
| STRAIGHT_JOIN

outer_join_type: LEFT opt_outer JOIN_SYM
| RIGHT opt_outer JOIN_SYM

opt_inner: %empty
| INNER_SYM

opt_outer: %empty
| OUTER_SYM

opt_use_partition: %empty
| use_partition

use_partition: PARTITION_SYM '(' using_list ')'

table_factor: single_table
| single_table_parens
| derived_table
| joined_table_parens
| table_reference_list_parens
| table_function

table_reference_list_parens: '(' table_reference_list_parens ')'
| '(' table_reference_list ',' table_reference ')'

single_table_parens: '(' single_table_parens ')'
| '(' single_table ')'

single_table: table_ident opt_use_partition opt_table_alias opt_key_definition

joined_table_parens: '(' joined_table_parens ')'
| '(' joined_table ')'

derived_table: table_subquery opt_table_alias opt_derived_column_list
| LATERAL_SYM table_subquery opt_table_alias opt_derived_column_list

table_function: JSON_TABLE_SYM '(' expr ',' TEXT_STRING_sys columns_clause ')' opt_table_alias

columns_clause: COLUMNS '(' columns_list ')'

columns_list: jt_column
| columns_list ',' jt_column

jt_column: ident FOR_SYM ORDINALITY_SYM
| ident type opt_collate jt_column_type PATH_SYM TEXT_STRING_sys opt_on_empty_or_error
| NESTED_SYM PATH_SYM TEXT_STRING_sys columns_clause

jt_column_type: %empty
| EXISTS

opt_on_empty_or_error: %empty
| opt_on_empty
| opt_on_error
| opt_on_empty opt_on_error
| opt_on_error opt_on_empty

opt_on_empty: jt_on_response ON_SYM EMPTY_SYM

opt_on_error: jt_on_response ON_SYM ERROR_SYM

jt_on_response: ERROR_SYM
| NULL_SYM
| DEFAULT_SYM TEXT_STRING_sys

index_hint_clause: %empty
| FOR_SYM JOIN_SYM
| FOR_SYM ORDER_SYM BY
| FOR_SYM GROUP_SYM BY

index_hint_type: FORCE_SYM
| IGNORE_SYM

index_hint_definition: index_hint_type key_or_index index_hint_clause '(' key_usage_list ')'
| USE_SYM key_or_index index_hint_clause '(' opt_key_usage_list ')'

index_hints_list: index_hint_definition
| index_hints_list index_hint_definition

opt_index_hints_list: %empty
| index_hints_list

opt_key_definition: opt_index_hints_list

opt_key_usage_list: %empty
| key_usage_list

key_usage_element: ident
| PRIMARY_SYM

key_usage_list: key_usage_element
| key_usage_list ',' key_usage_element

using_list: ident_string_list

ident_string_list: ident
| ident_string_list ',' ident

interval: interval_time_stamp
| DAY_HOUR_SYM
| DAY_MICROSECOND_SYM
| DAY_MINUTE_SYM
| DAY_SECOND_SYM
| HOUR_MICROSECOND_SYM
| HOUR_MINUTE_SYM
| HOUR_SECOND_SYM
| MINUTE_MICROSECOND_SYM
| MINUTE_SECOND_SYM
| SECOND_MICROSECOND_SYM
| YEAR_MONTH_SYM

interval_time_stamp: DAY_SYM
| WEEK_SYM
| HOUR_SYM
| MINUTE_SYM
| MONTH_SYM
| QUARTER_SYM
| SECOND_SYM
| MICROSECOND_SYM
| YEAR_SYM

date_time_type: DATE_SYM
| TIME_SYM
| TIMESTAMP_SYM
| DATETIME_SYM

opt_as: %empty
| AS

opt_table_alias: %empty
| opt_as ident

opt_all: %empty
| ALL

opt_where_clause: opt_where_clause_expr

opt_where_clause_expr: %empty
| WHERE expr

opt_having_clause: %empty
| HAVING expr

with_clause: WITH with_list
| WITH RECURSIVE_SYM with_list

with_list: with_list ',' common_table_expr
| common_table_expr

common_table_expr: ident opt_derived_column_list AS table_subquery

opt_derived_column_list: %empty
| '(' simple_ident_list ')'

simple_ident_list: ident
| simple_ident_list ',' ident

opt_window_clause: %empty
| WINDOW_SYM window_definition_list

window_definition_list: window_definition
| window_definition_list ',' window_definition

window_definition: window_name AS window_spec

opt_group_clause: %empty
| GROUP_SYM BY group_list olap_opt

group_list: group_list ',' grouping_expr
| grouping_expr

olap_opt: %empty
| WITH_ROLLUP_SYM

alter_order_list: alter_order_list ',' alter_order_item
| alter_order_item

alter_order_item: simple_ident_nospvar opt_ordering_direction

opt_order_clause: %empty
| order_clause

order_clause: ORDER_SYM BY order_list

order_list: order_list ',' order_expr
| order_expr

opt_ordering_direction: %empty
| ordering_direction

ordering_direction: ASC
| DESC

opt_limit_clause: %empty
| limit_clause

limit_clause: LIMIT limit_options

limit_options: limit_option
| limit_option ',' limit_option
| limit_option OFFSET_SYM limit_option

limit_option: ident
| param_marker
| ULONGLONG_NUM
| LONG_NUM
| NUM

opt_simple_limit: %empty
| LIMIT limit_option

ulong_num: NUM
| HEX_NUM
| LONG_NUM
| ULONGLONG_NUM
| DECIMAL_NUM
| FLOAT_NUM

real_ulong_num: NUM
| HEX_NUM
| LONG_NUM
| ULONGLONG_NUM
| dec_num_error

ulonglong_num: NUM
| ULONGLONG_NUM
| LONG_NUM
| DECIMAL_NUM
| FLOAT_NUM

real_ulonglong_num: NUM
| HEX_NUM
| ULONGLONG_NUM
| LONG_NUM
| dec_num_error

dec_num_error: dec_num

dec_num: DECIMAL_NUM
| FLOAT_NUM

select_var_list: select_var_list ',' select_var_ident
| select_var_ident

select_var_ident: '@' ident_or_text
| ident_or_text

into_clause: INTO into_destination

into_destination: OUTFILE TEXT_STRING_filesystem opt_load_data_charset opt_field_term opt_line_term
| DUMPFILE TEXT_STRING_filesystem
| select_var_list

do_stmt: DO_SYM empty_select_options select_item_list

empty_select_options: %empty

drop_table_stmt: DROP opt_temporary table_or_tables if_exists table_list opt_restrict

drop_index_stmt: DROP INDEX_SYM ident ON_SYM table_ident opt_index_lock_and_algorithm

drop_database_stmt: DROP DATABASE if_exists ident

drop_function_stmt: DROP FUNCTION_SYM if_exists ident '.' ident
| DROP FUNCTION_SYM if_exists ident

drop_resource_group_stmt: DROP RESOURCE_SYM GROUP_SYM ident opt_force

drop_procedure_stmt: DROP PROCEDURE_SYM if_exists sp_name

drop_user_stmt: DROP USER if_exists user_list

drop_view_stmt: DROP VIEW_SYM if_exists table_list opt_restrict

drop_event_stmt: DROP EVENT_SYM if_exists sp_name

drop_trigger_stmt: DROP TRIGGER_SYM if_exists sp_name

drop_tablespace_stmt: DROP TABLESPACE_SYM ident opt_drop_ts_options

drop_undo_tablespace_stmt: DROP UNDO_SYM TABLESPACE_SYM ident opt_undo_tablespace_options

drop_logfile_stmt: DROP LOGFILE_SYM GROUP_SYM ident opt_drop_ts_options

drop_server_stmt: DROP SERVER_SYM if_exists ident_or_text

drop_srs_stmt: DROP SPATIAL_SYM REFERENCE_SYM SYSTEM_SYM if_exists real_ulonglong_num

drop_role_stmt: DROP ROLE_SYM if_exists role_list

table_list: table_ident
| table_list ',' table_ident

table_alias_ref_list: table_ident_opt_wild
| table_alias_ref_list ',' table_ident_opt_wild

if_exists: %empty
| IF EXISTS

opt_temporary: %empty
| TEMPORARY

opt_drop_ts_options: %empty
| drop_ts_option_list

drop_ts_option_list: drop_ts_option
| drop_ts_option_list opt_comma drop_ts_option

drop_ts_option: ts_option_engine
| ts_option_wait

insert_stmt: INSERT_SYM insert_lock_option opt_ignore opt_INTO table_ident opt_use_partition insert_from_constructor opt_insert_update_list
| INSERT_SYM insert_lock_option opt_ignore opt_INTO table_ident opt_use_partition SET_SYM update_list opt_insert_update_list
| INSERT_SYM insert_lock_option opt_ignore opt_INTO table_ident opt_use_partition insert_query_expression opt_insert_update_list

replace_stmt: REPLACE_SYM replace_lock_option opt_INTO table_ident opt_use_partition insert_from_constructor
| REPLACE_SYM replace_lock_option opt_INTO table_ident opt_use_partition SET_SYM update_list
| REPLACE_SYM replace_lock_option opt_INTO table_ident opt_use_partition insert_query_expression

insert_lock_option: %empty
| LOW_PRIORITY
| DELAYED_SYM
| HIGH_PRIORITY

replace_lock_option: opt_low_priority
| DELAYED_SYM

opt_INTO: %empty
| INTO

insert_from_constructor: insert_values
| '(' ')' insert_values
| '(' fields ')' insert_values

insert_query_expression: query_expression_or_parens
| '(' ')' query_expression_or_parens
| '(' fields ')' query_expression_or_parens

fields: fields ',' insert_ident
| insert_ident

insert_values: value_or_values values_list

query_expression_or_parens: query_expression
| query_expression_parens

value_or_values: VALUE_SYM
| VALUES

values_list: values_list ',' row_value
| row_value

equal: EQ
| SET_VAR

opt_equal: %empty
| equal

row_value: '(' opt_values ')'

opt_values: %empty
| values

values: values ',' expr_or_default
| expr_or_default

expr_or_default: expr
| DEFAULT_SYM

opt_insert_update_list: %empty
| ON_SYM DUPLICATE_SYM KEY_SYM UPDATE_SYM update_list

update_stmt: opt_with_clause UPDATE_SYM opt_low_priority opt_ignore table_reference_list SET_SYM update_list opt_where_clause opt_order_clause opt_simple_limit

opt_with_clause: %empty
| with_clause

update_list: update_list ',' update_elem
| update_elem

update_elem: simple_ident_nospvar equal expr_or_default

opt_low_priority: %empty
| LOW_PRIORITY

delete_stmt: opt_with_clause DELETE_SYM opt_delete_options FROM table_ident opt_table_alias opt_use_partition opt_where_clause opt_order_clause opt_simple_limit
| opt_with_clause DELETE_SYM opt_delete_options table_alias_ref_list FROM table_reference_list opt_where_clause
| opt_with_clause DELETE_SYM opt_delete_options FROM table_alias_ref_list USING table_reference_list opt_where_clause

opt_wild: %empty
| '.' '*'

opt_delete_options: %empty
| opt_delete_option opt_delete_options

opt_delete_option: QUICK
| LOW_PRIORITY
| IGNORE_SYM

truncate_stmt: TRUNCATE_SYM opt_table table_ident

opt_table: %empty
| TABLE_SYM

opt_profile_defs: %empty
| profile_defs

profile_defs: profile_def
| profile_defs ',' profile_def

profile_def: CPU_SYM
| MEMORY_SYM
| BLOCK_SYM IO_SYM
| CONTEXT_SYM SWITCHES_SYM
| PAGE_SYM FAULTS_SYM
| IPC_SYM
| SWAPS_SYM
| SOURCE_SYM
| ALL

opt_profile_args: %empty
| FOR_SYM QUERY_SYM NUM

$@45: %empty

show: SHOW $@45 show_param

show_param: DATABASES opt_wild_or_where_for_show
| opt_show_cmd_type TABLES opt_db opt_wild_or_where_for_show
| opt_full TRIGGERS_SYM opt_db opt_wild_or_where_for_show
| EVENTS_SYM opt_db opt_wild_or_where_for_show
| TABLE_SYM STATUS_SYM opt_db opt_wild_or_where_for_show
| OPEN_SYM TABLES opt_db opt_wild_or_where
| PLUGINS_SYM
| ENGINE_SYM ident_or_text show_engine_param
| ENGINE_SYM ALL show_engine_param
| opt_show_cmd_type COLUMNS from_or_in table_ident opt_db opt_wild_or_where_for_show
| master_or_binary LOGS_SYM
| SLAVE HOSTS_SYM

$@46: %empty

show_param: BINLOG_SYM EVENTS_SYM binlog_in binlog_from $@46 opt_limit_clause

$@47: %empty

show_param: RELAYLOG_SYM EVENTS_SYM binlog_in binlog_from $@47 opt_limit_clause opt_channel
| opt_extended keys_or_index from_or_in table_ident opt_db opt_where_clause_expr
| opt_storage ENGINES_SYM
| COUNT_SYM '(' '*' ')' WARNINGS
| COUNT_SYM '(' '*' ')' ERRORS
| WARNINGS opt_limit_clause
| ERRORS opt_limit_clause
| PROFILES_SYM
| PROFILE_SYM opt_profile_defs opt_profile_args opt_limit_clause
| opt_var_type STATUS_SYM opt_wild_or_where_for_show
| opt_full PROCESSLIST_SYM
| opt_var_type VARIABLES opt_wild_or_where_for_show
| character_set opt_wild_or_where_for_show
| COLLATION_SYM opt_wild_or_where_for_show
| PRIVILEGES
| GRANTS
| GRANTS FOR_SYM user
| GRANTS FOR_SYM user USING user_list
| CREATE DATABASE opt_if_not_exists ident
| CREATE TABLE_SYM table_ident
| CREATE VIEW_SYM table_ident
| MASTER_SYM STATUS_SYM
| SLAVE STATUS_SYM opt_channel
| CREATE PROCEDURE_SYM sp_name
| CREATE FUNCTION_SYM sp_name
| CREATE TRIGGER_SYM sp_name
| PROCEDURE_SYM STATUS_SYM opt_wild_or_where_for_show
| FUNCTION_SYM STATUS_SYM opt_wild_or_where_for_show
| PROCEDURE_SYM CODE_SYM sp_name
| FUNCTION_SYM CODE_SYM sp_name
| CREATE EVENT_SYM sp_name
| CREATE USER user

show_engine_param: STATUS_SYM
| MUTEX_SYM
| LOGS_SYM

master_or_binary: MASTER_SYM
| BINARY_SYM

opt_storage: %empty
| STORAGE_SYM

opt_db: %empty
| from_or_in ident

opt_full: %empty
| FULL

opt_extended: %empty
| EXTENDED_SYM

opt_show_cmd_type: %empty
| FULL
| EXTENDED_SYM
| EXTENDED_SYM FULL

from_or_in: FROM
| IN_SYM

binlog_in: %empty
| IN_SYM TEXT_STRING_sys

binlog_from: %empty
| FROM ulonglong_num

opt_wild_or_where: %empty
| LIKE TEXT_STRING_sys
| WHERE expr

opt_wild_or_where_for_show: %empty
| LIKE TEXT_STRING_literal
| WHERE expr

describe_stmt: describe_command table_ident opt_describe_column

explain_stmt: describe_command opt_explain_format_type explainable_stmt

explainable_stmt: select_stmt
| insert_stmt
| replace_stmt
| update_stmt
| delete_stmt
| FOR_SYM CONNECTION_SYM real_ulong_num

describe_command: DESC
| DESCRIBE

opt_explain_format_type: %empty
| FORMAT_SYM EQ ident_or_text

opt_describe_column: %empty
| text_string
| ident

$@48: %empty

flush: FLUSH_SYM opt_no_write_to_binlog $@48 flush_options

$@49: %empty

flush_options: table_or_tables opt_table_list $@49 opt_flush_lock
| flush_options_list

opt_flush_lock: %empty
| WITH READ_SYM LOCK_SYM

$@50: %empty

opt_flush_lock: FOR_SYM $@50 EXPORT_SYM

flush_options_list: flush_options_list ',' flush_option
| flush_option

flush_option: ERROR_SYM LOGS_SYM
| ENGINE_SYM LOGS_SYM
| GENERAL LOGS_SYM
| SLOW LOGS_SYM
| BINARY_SYM LOGS_SYM
| RELAY LOGS_SYM opt_channel
| HOSTS_SYM
| PRIVILEGES
| LOGS_SYM
| STATUS_SYM
| RESOURCES
| OPTIMIZER_COSTS_SYM

opt_table_list: %empty
| table_list

$@51: %empty

reset: RESET_SYM $@51 reset_options
| RESET_SYM PERSIST_SYM opt_if_exists_ident

reset_options: reset_options ',' reset_option
| reset_option

opt_if_exists_ident: %empty
| if_exists ident

$@52: %empty

reset_option: SLAVE $@52 slave_reset_options opt_channel

$@53: %empty

reset_option: MASTER_SYM $@53 master_reset_options

slave_reset_options: %empty
| ALL

master_reset_options: %empty
| TO_SYM real_ulonglong_num

$@54: %empty

purge: PURGE $@54 purge_options

purge_options: master_or_binary LOGS_SYM purge_option

purge_option: TO_SYM TEXT_STRING_sys
| BEFORE_SYM expr

kill: KILL_SYM kill_option expr

kill_option: %empty
| CONNECTION_SYM
| QUERY_SYM

use: USE_SYM ident

load_stmt: LOAD data_or_xml load_data_lock opt_local INFILE TEXT_STRING_filesystem opt_duplicate INTO TABLE_SYM table_ident opt_use_partition opt_load_data_charset opt_xml_rows_identified_by opt_field_term opt_line_term opt_ignore_lines opt_field_or_var_spec opt_load_data_set_spec

data_or_xml: DATA_SYM
| XML_SYM

opt_local: %empty
| LOCAL_SYM

load_data_lock: %empty
| CONCURRENT
| LOW_PRIORITY

opt_duplicate: %empty
| duplicate

duplicate: REPLACE_SYM
| IGNORE_SYM

opt_field_term: %empty
| COLUMNS field_term_list

field_term_list: field_term_list field_term
| field_term

field_term: TERMINATED BY text_string
| OPTIONALLY ENCLOSED BY text_string
| ENCLOSED BY text_string
| ESCAPED BY text_string

opt_line_term: %empty
| LINES line_term_list

line_term_list: line_term_list line_term
| line_term

line_term: TERMINATED BY text_string
| STARTING BY text_string

opt_xml_rows_identified_by: %empty
| ROWS_SYM IDENTIFIED_SYM BY text_string

opt_ignore_lines: %empty
| IGNORE_SYM NUM lines_or_rows

lines_or_rows: LINES
| ROWS_SYM

opt_field_or_var_spec: %empty
| '(' fields_or_vars ')'
| '(' ')'

fields_or_vars: fields_or_vars ',' field_or_var
| field_or_var

field_or_var: simple_ident_nospvar
| '@' ident_or_text

opt_load_data_set_spec: %empty
| SET_SYM load_data_set_list

load_data_set_list: load_data_set_list ',' load_data_set_elem
| load_data_set_elem

load_data_set_elem: simple_ident_nospvar equal expr_or_default

text_literal: TEXT_STRING
| NCHAR_STRING
| UNDERSCORE_CHARSET TEXT_STRING
| text_literal TEXT_STRING_literal

text_string: TEXT_STRING_literal
| HEX_NUM
| BIN_NUM

param_marker: PARAM_MARKER

signed_literal: literal
| '+' NUM_literal
| '-' NUM_literal

literal: text_literal
| NUM_literal
| temporal_literal
| NULL_SYM
| FALSE_SYM
| TRUE_SYM
| HEX_NUM
| BIN_NUM
| UNDERSCORE_CHARSET HEX_NUM
| UNDERSCORE_CHARSET BIN_NUM

NUM_literal: NUM
| LONG_NUM
| ULONGLONG_NUM
| DECIMAL_NUM
| FLOAT_NUM

temporal_literal: DATE_SYM TEXT_STRING
| TIME_SYM TEXT_STRING
| TIMESTAMP_SYM TEXT_STRING

insert_ident: simple_ident_nospvar
| table_wild

table_wild: ident '.' '*'
| ident '.' ident '.' '*'

order_expr: expr opt_ordering_direction

grouping_expr: expr

simple_ident: ident
| simple_ident_q

simple_ident_nospvar: ident
| simple_ident_q

simple_ident_q: ident '.' ident
| ident '.' ident '.' ident

table_ident: ident
| ident '.' ident

table_ident_opt_wild: ident opt_wild
| ident '.' ident opt_wild

IDENT_sys: IDENT
| IDENT_QUOTED

TEXT_STRING_sys_nonewline: TEXT_STRING_sys

filter_wild_db_table_string: TEXT_STRING_sys_nonewline

TEXT_STRING_sys: TEXT_STRING

TEXT_STRING_literal: TEXT_STRING

TEXT_STRING_filesystem: TEXT_STRING

TEXT_STRING_password: TEXT_STRING

TEXT_STRING_hash: TEXT_STRING_sys
| HEX_NUM

TEXT_STRING_validated: TEXT_STRING

ident: IDENT_sys
| ident_keyword

role_ident: IDENT_sys
| role_keyword

label_ident: IDENT_sys
| label_keyword

lvalue_ident: IDENT_sys
| lvalue_keyword

ident_or_text: ident
| TEXT_STRING_sys
| LEX_HOSTNAME

role_ident_or_text: role_ident
| TEXT_STRING_sys
| LEX_HOSTNAME

user: ident_or_text
| ident_or_text '@' ident_or_text
| CURRENT_USER optional_braces

role: role_ident_or_text
| role_ident_or_text '@' ident_or_text

schema: ident

ident_keyword: ident_keywords_unambiguous
| ident_keywords_ambiguous_1_roles_and_labels
| ident_keywords_ambiguous_2_labels
| ident_keywords_ambiguous_3_roles
| ident_keywords_ambiguous_4_system_variables

ident_keywords_ambiguous_1_roles_and_labels: EXECUTE_SYM
| RESTART_SYM
| SHUTDOWN

ident_keywords_ambiguous_2_labels: ASCII_SYM
| BEGIN_SYM
| BYTE_SYM
| CACHE_SYM
| CHARSET
| CHECKSUM_SYM
| CLONE_SYM
| COMMENT_SYM
| COMMIT_SYM
| CONTAINS_SYM
| DEALLOCATE_SYM
| DO_SYM
| END
| FLUSH_SYM
| FOLLOWS_SYM
| HANDLER_SYM
| HELP_SYM
| IMPORT
| INSTALL_SYM
| LANGUAGE_SYM
| NO_SYM
| PRECEDES_SYM
| PREPARE_SYM
| REPAIR
| RESET_SYM
| ROLLBACK_SYM
| SAVEPOINT_SYM
| SIGNED_SYM
| SLAVE
| START_SYM
| STOP_SYM
| TRUNCATE_SYM
| UNICODE_SYM
| UNINSTALL_SYM
| XA_SYM

label_keyword: ident_keywords_unambiguous
| ident_keywords_ambiguous_3_roles
| ident_keywords_ambiguous_4_system_variables

ident_keywords_ambiguous_3_roles: EVENT_SYM
| FILE_SYM
| NONE_SYM
| PROCESS
| PROXY_SYM
| RELOAD
| REPLICATION
| RESOURCE_SYM
| SUPER_SYM

ident_keywords_unambiguous: ACTION
| ACCOUNT_SYM
| ACTIVE_SYM
| ADDDATE_SYM
| ADMIN_SYM
| AFTER_SYM
| AGAINST
| AGGREGATE_SYM
| ALGORITHM_SYM
| ALWAYS_SYM
| ANY_SYM
| AT_SYM
| AUTOEXTEND_SIZE_SYM
| AUTO_INC
| AVG_ROW_LENGTH
| AVG_SYM
| BACKUP_SYM
| BINLOG_SYM
| BIT_SYM
| BLOCK_SYM
| BOOLEAN_SYM
| BOOL_SYM
| BTREE_SYM
| BUCKETS_SYM
| CASCADED
| CATALOG_NAME_SYM
| CHAIN_SYM
| CHANGED
| CHANNEL_SYM
| CIPHER_SYM
| CLASS_ORIGIN_SYM
| CLIENT_SYM
| CLOSE_SYM
| COALESCE
| CODE_SYM
| COLLATION_SYM
| COLUMNS
| COLUMN_FORMAT_SYM
| COLUMN_NAME_SYM
| COMMITTED_SYM
| COMPACT_SYM
| COMPLETION_SYM
| COMPONENT_SYM
| COMPRESSED_SYM
| COMPRESSION_SYM
| CONCURRENT
| CONNECTION_SYM
| CONSISTENT_SYM
| CONSTRAINT_CATALOG_SYM
| CONSTRAINT_NAME_SYM
| CONSTRAINT_SCHEMA_SYM
| CONTEXT_SYM
| CPU_SYM
| CURRENT_SYM
| CURSOR_NAME_SYM
| DATAFILE_SYM
| DATA_SYM
| DATETIME_SYM
| DATE_SYM
| DAY_SYM
| DEFAULT_AUTH_SYM
| DEFINER_SYM
| DEFINITION_SYM
| DELAY_KEY_WRITE_SYM
| DESCRIPTION_SYM
| DIAGNOSTICS_SYM
| DIRECTORY_SYM
| DISABLE_SYM
| DISCARD_SYM
| DISK_SYM
| DUMPFILE
| DUPLICATE_SYM
| DYNAMIC_SYM
| ENABLE_SYM
| ENCRYPTION_SYM
| ENDS_SYM
| ENFORCED_SYM
| ENGINES_SYM
| ENGINE_SYM
| ENUM_SYM
| ERRORS
| ERROR_SYM
| ESCAPE_SYM
| EVENTS_SYM
| EVERY_SYM
| EXCHANGE_SYM
| EXCLUDE_SYM
| EXPANSION_SYM
| EXPIRE_SYM
| EXPORT_SYM
| EXTENDED_SYM
| EXTENT_SIZE_SYM
| FAST_SYM
| FAULTS_SYM
| FILE_BLOCK_SIZE_SYM
| FILTER_SYM
| FIRST_SYM
| FIXED_SYM
| FOLLOWING_SYM
| FORMAT_SYM
| FOUND_SYM
| FULL
| GENERAL
| GEOMETRYCOLLECTION_SYM
| GEOMETRY_SYM
| GET_FORMAT
| GET_MASTER_PUBLIC_KEY_SYM
| GRANTS
| GROUP_REPLICATION
| HASH_SYM
| HISTOGRAM_SYM
| HISTORY_SYM
| HOSTS_SYM
| HOST_SYM
| HOUR_SYM
| IDENTIFIED_SYM
| IGNORE_SERVER_IDS_SYM
| INACTIVE_SYM
| INDEXES
| INITIAL_SIZE_SYM
| INSERT_METHOD
| INSTANCE_SYM
| INVISIBLE_SYM
| INVOKER_SYM
| IO_SYM
| IPC_SYM
| ISOLATION
| ISSUER_SYM
| JSON_SYM
| KEY_BLOCK_SIZE
| LAST_SYM
| LEAVES
| LESS_SYM
| LEVEL_SYM
| LINESTRING_SYM
| LIST_SYM
| LOCKED_SYM
| LOCKS_SYM
| LOGFILE_SYM
| LOGS_SYM
| MASTER_AUTO_POSITION_SYM
| MASTER_CONNECT_RETRY_SYM
| MASTER_DELAY_SYM
| MASTER_HEARTBEAT_PERIOD_SYM
| MASTER_HOST_SYM
| NETWORK_NAMESPACE_SYM
| MASTER_LOG_FILE_SYM
| MASTER_LOG_POS_SYM
| MASTER_PASSWORD_SYM
| MASTER_PORT_SYM
| MASTER_PUBLIC_KEY_PATH_SYM
| MASTER_RETRY_COUNT_SYM
| MASTER_SERVER_ID_SYM
| MASTER_SSL_CAPATH_SYM
| MASTER_SSL_CA_SYM
| MASTER_SSL_CERT_SYM
| MASTER_SSL_CIPHER_SYM
| MASTER_SSL_CRLPATH_SYM
| MASTER_SSL_CRL_SYM
| MASTER_SSL_KEY_SYM
| MASTER_SSL_SYM
| MASTER_SYM
| MASTER_TLS_VERSION_SYM
| MASTER_USER_SYM
| MAX_CONNECTIONS_PER_HOUR
| MAX_QUERIES_PER_HOUR
| MAX_ROWS
| MAX_SIZE_SYM
| MAX_UPDATES_PER_HOUR
| MAX_USER_CONNECTIONS_SYM
| MEDIUM_SYM
| MEMORY_SYM
| MERGE_SYM
| MESSAGE_TEXT_SYM
| MICROSECOND_SYM
| MIGRATE_SYM
| MINUTE_SYM
| MIN_ROWS
| MODE_SYM
| MODIFY_SYM
| MONTH_SYM
| MULTILINESTRING_SYM
| MULTIPOINT_SYM
| MULTIPOLYGON_SYM
| MUTEX_SYM
| MYSQL_ERRNO_SYM
| NAMES_SYM
| NAME_SYM
| NATIONAL_SYM
| NCHAR_SYM
| NDBCLUSTER_SYM
| NESTED_SYM
| NEVER_SYM
| NEW_SYM
| NEXT_SYM
| NODEGROUP_SYM
| NOWAIT_SYM
| NO_WAIT_SYM
| NULLS_SYM
| NUMBER_SYM
| NVARCHAR_SYM
| OFFSET_SYM
| OJ_SYM
| OLD_SYM
| ONE_SYM
| ONLY_SYM
| OPEN_SYM
| OPTIONAL_SYM
| OPTIONS_SYM
| ORDINALITY_SYM
| ORGANIZATION_SYM
| OTHERS_SYM
| OWNER_SYM
| PACK_KEYS_SYM
| PAGE_SYM
| PARSER_SYM
| PARTIAL
| PARTITIONING_SYM
| PARTITIONS_SYM
| PASSWORD
| PATH_SYM
| PHASE_SYM
| PLUGINS_SYM
| PLUGIN_DIR_SYM
| PLUGIN_SYM
| POINT_SYM
| POLYGON_SYM
| PORT_SYM
| PRECEDING_SYM
| PRESERVE_SYM
| PREV_SYM
| PRIVILEGES
| PROCESSLIST_SYM
| PROFILES_SYM
| PROFILE_SYM
| QUARTER_SYM
| QUERY_SYM
| QUICK
| READ_ONLY_SYM
| REBUILD_SYM
| RECOVER_SYM
| REDO_BUFFER_SIZE_SYM
| REDUNDANT_SYM
| REFERENCE_SYM
| RELAY
| RELAYLOG_SYM
| RELAY_LOG_FILE_SYM
| RELAY_LOG_POS_SYM
| RELAY_THREAD
| REMOVE_SYM
| REORGANIZE_SYM
| REPEATABLE_SYM
| REPLICATE_DO_DB
| REPLICATE_DO_TABLE
| REPLICATE_IGNORE_DB
| REPLICATE_IGNORE_TABLE
| REPLICATE_REWRITE_DB
| REPLICATE_WILD_DO_TABLE
| REPLICATE_WILD_IGNORE_TABLE
| RESOURCES
| RESPECT_SYM
| RESTORE_SYM
| RESUME_SYM
| RETAIN_SYM
| RETURNED_SQLSTATE_SYM
| RETURNS_SYM
| REUSE_SYM
| REVERSE_SYM
| ROLE_SYM
| ROLLUP_SYM
| ROTATE_SYM
| ROUTINE_SYM
| ROW_COUNT_SYM
| ROW_FORMAT_SYM
| RTREE_SYM
| SCHEDULE_SYM
| SCHEMA_NAME_SYM
| SECONDARY_ENGINE_SYM
| SECONDARY_LOAD_SYM
| SECONDARY_SYM
| SECONDARY_UNLOAD_SYM
| SECOND_SYM
| SECURITY_SYM
| SERIALIZABLE_SYM
| SERIAL_SYM
| SERVER_SYM
| SHARE_SYM
| SIMPLE_SYM
| SKIP_SYM
| SLOW
| SNAPSHOT_SYM
| SOCKET_SYM
| SONAME_SYM
| SOUNDS_SYM
| SOURCE_SYM
| SQL_AFTER_GTIDS
| SQL_AFTER_MTS_GAPS
| SQL_BEFORE_GTIDS
| SQL_BUFFER_RESULT
| SQL_NO_CACHE_SYM
| SQL_THREAD
| SRID_SYM
| STACKED_SYM
| STARTS_SYM
| STATS_AUTO_RECALC_SYM
| STATS_PERSISTENT_SYM
| STATS_SAMPLE_PAGES_SYM
| STATUS_SYM
| STORAGE_SYM
| STRING_SYM
| SUBCLASS_ORIGIN_SYM
| SUBDATE_SYM
| SUBJECT_SYM
| SUBPARTITIONS_SYM
| SUBPARTITION_SYM
| SUSPEND_SYM
| SWAPS_SYM
| SWITCHES_SYM
| TABLES
| TABLESPACE_SYM
| TABLE_CHECKSUM_SYM
| TABLE_NAME_SYM
| TEMPORARY
| TEMPTABLE_SYM
| TEXT_SYM
| THAN_SYM
| THREAD_PRIORITY_SYM
| TIES_SYM
| TIMESTAMP_ADD
| TIMESTAMP_DIFF
| TIMESTAMP_SYM
| TIME_SYM
| TRANSACTION_SYM
| TRIGGERS_SYM
| TYPES_SYM
| TYPE_SYM
| UNBOUNDED_SYM
| UNCOMMITTED_SYM
| UNDEFINED_SYM
| UNDOFILE_SYM
| UNDO_BUFFER_SIZE_SYM
| UNKNOWN_SYM
| UNTIL_SYM
| UPGRADE_SYM
| USER
| USE_FRM
| VALIDATION_SYM
| VALUE_SYM
| VARIABLES
| VCPU_SYM
| VIEW_SYM
| VISIBLE_SYM
| WAIT_SYM
| WARNINGS
| WEEK_SYM
| WEIGHT_STRING_SYM
| WITHOUT_SYM
| WORK_SYM
| WRAPPER_SYM
| X509_SYM
| XID_SYM
| XML_SYM
| YEAR_SYM

role_keyword: ident_keywords_unambiguous
| ident_keywords_ambiguous_2_labels
| ident_keywords_ambiguous_4_system_variables

lvalue_keyword: ident_keywords_unambiguous
| ident_keywords_ambiguous_1_roles_and_labels
| ident_keywords_ambiguous_2_labels
| ident_keywords_ambiguous_3_roles

ident_keywords_ambiguous_4_system_variables: GLOBAL_SYM
| LOCAL_SYM
| PERSIST_SYM
| PERSIST_ONLY_SYM
| SESSION_SYM

set: SET_SYM start_option_value_list

start_option_value_list: option_value_no_option_type option_value_list_continued
| TRANSACTION_SYM transaction_characteristics
| option_type start_option_value_list_following_option_type
| PASSWORD equal TEXT_STRING_password opt_replace_password opt_retain_current_password
| PASSWORD FOR_SYM user equal TEXT_STRING_password opt_replace_password opt_retain_current_password

set_role_stmt: SET_SYM ROLE_SYM role_list
| SET_SYM ROLE_SYM NONE_SYM
| SET_SYM ROLE_SYM DEFAULT_SYM
| SET_SYM DEFAULT_SYM ROLE_SYM role_list TO_SYM role_list
| SET_SYM DEFAULT_SYM ROLE_SYM NONE_SYM TO_SYM role_list
| SET_SYM DEFAULT_SYM ROLE_SYM ALL TO_SYM role_list
| SET_SYM ROLE_SYM ALL opt_except_role_list

opt_except_role_list: %empty
| EXCEPT_SYM role_list

set_resource_group_stmt: SET_SYM RESOURCE_SYM GROUP_SYM ident
| SET_SYM RESOURCE_SYM GROUP_SYM ident FOR_SYM thread_id_list_options

thread_id_list: real_ulong_num
| thread_id_list opt_comma real_ulong_num

thread_id_list_options: thread_id_list

start_option_value_list_following_option_type: option_value_following_option_type option_value_list_continued
| TRANSACTION_SYM transaction_characteristics

option_value_list_continued: %empty
| ',' option_value_list

option_value_list: option_value
| option_value_list ',' option_value

option_value: option_type option_value_following_option_type
| option_value_no_option_type

option_type: GLOBAL_SYM
| PERSIST_SYM
| PERSIST_ONLY_SYM
| LOCAL_SYM
| SESSION_SYM

opt_var_type: %empty
| GLOBAL_SYM
| LOCAL_SYM
| SESSION_SYM

opt_var_ident_type: %empty
| GLOBAL_SYM '.'
| LOCAL_SYM '.'
| SESSION_SYM '.'

opt_set_var_ident_type: %empty
| PERSIST_SYM '.'
| PERSIST_ONLY_SYM '.'
| GLOBAL_SYM '.'
| LOCAL_SYM '.'
| SESSION_SYM '.'

option_value_following_option_type: internal_variable_name equal set_expr_or_default

option_value_no_option_type: internal_variable_name equal set_expr_or_default
| '@' ident_or_text equal expr
| '@' '@' opt_set_var_ident_type internal_variable_name equal set_expr_or_default
| character_set old_or_new_charset_name_or_default
| NAMES_SYM equal expr
| NAMES_SYM charset_name opt_collate
| NAMES_SYM DEFAULT_SYM

internal_variable_name: lvalue_ident
| lvalue_ident '.' ident
| DEFAULT_SYM '.' ident

transaction_characteristics: transaction_access_mode opt_isolation_level
| isolation_level opt_transaction_access_mode

transaction_access_mode: transaction_access_mode_types

opt_transaction_access_mode: %empty
| ',' transaction_access_mode

isolation_level: ISOLATION LEVEL_SYM isolation_types

opt_isolation_level: %empty
| ',' isolation_level

transaction_access_mode_types: READ_SYM ONLY_SYM
| READ_SYM WRITE_SYM

isolation_types: READ_SYM UNCOMMITTED_SYM
| READ_SYM COMMITTED_SYM
| REPEATABLE_SYM READ_SYM
| SERIALIZABLE_SYM

set_expr_or_default: expr
| DEFAULT_SYM
| ON_SYM
| ALL
| BINARY_SYM
| ROW_SYM
| SYSTEM_SYM

$@55: %empty

lock: LOCK_SYM table_or_tables $@55 table_lock_list
| LOCK_SYM INSTANCE_SYM FOR_SYM BACKUP_SYM

table_or_tables: TABLE_SYM
| TABLES

table_lock_list: table_lock
| table_lock_list ',' table_lock

table_lock: table_ident opt_table_alias lock_option

lock_option: READ_SYM
| WRITE_SYM
| LOW_PRIORITY WRITE_SYM
| READ_SYM LOCAL_SYM

$@56: %empty

unlock: UNLOCK_SYM $@56 table_or_tables
| UNLOCK_SYM INSTANCE_SYM

shutdown_stmt: SHUTDOWN

restart_server_stmt: RESTART_SYM

alter_instance_stmt: ALTER INSTANCE_SYM alter_instance_action

alter_instance_action: ROTATE_SYM ident_or_text MASTER_SYM KEY_SYM
| RELOAD ident
| RELOAD ident NO_SYM ROLLBACK_SYM ON_SYM ERROR_SYM

handler_stmt: HANDLER_SYM table_ident OPEN_SYM opt_table_alias
| HANDLER_SYM ident CLOSE_SYM
| HANDLER_SYM ident READ_SYM handler_scan_function opt_where_clause opt_limit_clause
| HANDLER_SYM ident READ_SYM ident handler_rkey_function opt_where_clause opt_limit_clause
| HANDLER_SYM ident READ_SYM ident handler_rkey_mode '(' values ')' opt_where_clause opt_limit_clause

handler_scan_function: FIRST_SYM
| NEXT_SYM

handler_rkey_function: FIRST_SYM
| NEXT_SYM
| PREV_SYM
| LAST_SYM

handler_rkey_mode: EQ
| GE
| LE
| GT_SYM
| LT

revoke: REVOKE role_or_privilege_list FROM user_list
| REVOKE role_or_privilege_list ON_SYM opt_acl_type grant_ident FROM user_list

$@57: %empty

revoke: REVOKE ALL opt_privileges $@57 ON_SYM opt_acl_type grant_ident FROM user_list
| REVOKE ALL opt_privileges ',' GRANT OPTION FROM user_list
| REVOKE PROXY_SYM ON_SYM user FROM user_list

grant: GRANT role_or_privilege_list TO_SYM user_list opt_with_admin_option
| GRANT role_or_privilege_list ON_SYM opt_acl_type grant_ident TO_SYM user_list grant_options opt_grant_as

$@58: %empty

grant: GRANT ALL opt_privileges $@58 ON_SYM opt_acl_type grant_ident TO_SYM user_list grant_options opt_grant_as
| GRANT PROXY_SYM ON_SYM user TO_SYM user_list opt_grant_option

opt_acl_type: %empty
| TABLE_SYM
| FUNCTION_SYM
| PROCEDURE_SYM

opt_privileges: %empty
| PRIVILEGES

role_or_privilege_list: role_or_privilege
| role_or_privilege_list ',' role_or_privilege

role_or_privilege: role_ident_or_text opt_column_list
| role_ident_or_text '@' ident_or_text
| SELECT_SYM opt_column_list
| INSERT_SYM opt_column_list
| UPDATE_SYM opt_column_list
| REFERENCES opt_column_list
| DELETE_SYM
| USAGE
| INDEX_SYM
| ALTER
| CREATE
| DROP
| EXECUTE_SYM
| RELOAD
| SHUTDOWN
| PROCESS
| FILE_SYM
| GRANT OPTION
| SHOW DATABASES
| SUPER_SYM
| CREATE TEMPORARY TABLES
| LOCK_SYM TABLES
| REPLICATION SLAVE
| REPLICATION CLIENT_SYM
| CREATE VIEW_SYM
| SHOW VIEW_SYM
| CREATE ROUTINE_SYM
| ALTER ROUTINE_SYM
| CREATE USER
| EVENT_SYM
| TRIGGER_SYM
| CREATE TABLESPACE_SYM
| CREATE ROLE_SYM
| DROP ROLE_SYM

opt_with_admin_option: %empty
| WITH ADMIN_SYM OPTION

opt_and: %empty
| AND_SYM

require_list: require_list_element opt_and require_list
| require_list_element

require_list_element: SUBJECT_SYM TEXT_STRING
| ISSUER_SYM TEXT_STRING
| CIPHER_SYM TEXT_STRING

grant_ident: '*'
| schema '.' '*'
| '*' '.' '*'
| ident
| schema '.' ident

user_list: user
| user_list ',' user

role_list: role
| role_list ',' role

opt_retain_current_password: %empty
| RETAIN_SYM CURRENT_SYM PASSWORD

opt_discard_old_password: %empty
| DISCARD_SYM OLD_SYM PASSWORD

create_user: user IDENTIFIED_SYM BY TEXT_STRING_password
| user IDENTIFIED_SYM WITH ident_or_text
| user IDENTIFIED_SYM WITH ident_or_text AS TEXT_STRING_hash
| user IDENTIFIED_SYM WITH ident_or_text BY TEXT_STRING_password
| user

alter_user: user IDENTIFIED_SYM BY TEXT_STRING REPLACE_SYM TEXT_STRING_password opt_retain_current_password
| user IDENTIFIED_SYM WITH ident_or_text BY TEXT_STRING_password REPLACE_SYM TEXT_STRING_password opt_retain_current_password
| user IDENTIFIED_SYM BY TEXT_STRING_password opt_retain_current_password
| user IDENTIFIED_SYM WITH ident_or_text
| user IDENTIFIED_SYM WITH ident_or_text AS TEXT_STRING_hash opt_retain_current_password
| user IDENTIFIED_SYM WITH ident_or_text BY TEXT_STRING_password opt_retain_current_password
| user opt_discard_old_password

create_user_list: create_user
| create_user_list ',' create_user

alter_user_list: alter_user
| alter_user_list ',' alter_user

opt_column_list: %empty
| '(' column_list ')'

column_list: ident
| column_list ',' ident

require_clause: %empty
| REQUIRE_SYM require_list
| REQUIRE_SYM SSL_SYM
| REQUIRE_SYM X509_SYM
| REQUIRE_SYM NONE_SYM

grant_options: %empty
| WITH GRANT OPTION

opt_grant_option: %empty
| WITH GRANT OPTION

opt_with_roles: %empty
| WITH ROLE_SYM role_list
| WITH ROLE_SYM ALL opt_except_role_list
| WITH ROLE_SYM NONE_SYM
| WITH ROLE_SYM DEFAULT_SYM

opt_grant_as: %empty
| AS user opt_with_roles

$@59: %empty

begin_stmt: BEGIN_SYM $@59 opt_work

opt_work: %empty
| WORK_SYM

opt_chain: %empty
| AND_SYM NO_SYM CHAIN_SYM
| AND_SYM CHAIN_SYM

opt_release: %empty
| RELEASE_SYM
| NO_SYM RELEASE_SYM

opt_savepoint: %empty
| SAVEPOINT_SYM

commit: COMMIT_SYM opt_work opt_chain opt_release

rollback: ROLLBACK_SYM opt_work opt_chain opt_release
| ROLLBACK_SYM opt_work TO_SYM opt_savepoint ident

savepoint: SAVEPOINT_SYM ident

release: RELEASE_SYM SAVEPOINT_SYM ident

union_option: %empty
| DISTINCT
| ALL

row_subquery: subquery

table_subquery: subquery

subquery: query_expression_parens

query_spec_option: STRAIGHT_JOIN
| HIGH_PRIORITY
| DISTINCT
| SQL_SMALL_RESULT
| SQL_BIG_RESULT
| SQL_BUFFER_RESULT
| SQL_CALC_FOUND_ROWS
| ALL

init_lex_create_info: %empty

view_or_trigger_or_sp_or_event: definer init_lex_create_info definer_tail
| no_definer init_lex_create_info no_definer_tail
| view_replace_or_algorithm definer_opt init_lex_create_info view_tail

definer_tail: view_tail
| trigger_tail
| sp_tail
| sf_tail
| event_tail

no_definer_tail: view_tail
| trigger_tail
| sp_tail
| sf_tail
| udf_tail
| event_tail

definer_opt: no_definer
| definer

no_definer: %empty

definer: DEFINER_SYM EQ user

view_replace_or_algorithm: view_replace
| view_replace view_algorithm
| view_algorithm

view_replace: OR_SYM REPLACE_SYM

view_algorithm: ALGORITHM_SYM EQ UNDEFINED_SYM
| ALGORITHM_SYM EQ MERGE_SYM
| ALGORITHM_SYM EQ TEMPTABLE_SYM

view_suid: %empty
| SQL_SYM SECURITY_SYM DEFINER_SYM
| SQL_SYM SECURITY_SYM INVOKER_SYM

$@60: %empty

view_tail: view_suid VIEW_SYM table_ident opt_derived_column_list $@60 AS view_select

view_select: query_expression_or_parens view_check_option

view_check_option: %empty
| WITH CHECK_SYM OPTION
| WITH CASCADED CHECK_SYM OPTION
| WITH LOCAL_SYM CHECK_SYM OPTION

trigger_action_order: FOLLOWS_SYM
| PRECEDES_SYM

trigger_follows_precedes_clause: %empty
| trigger_action_order ident_or_text

$@61: %empty

trigger_tail: TRIGGER_SYM sp_name trg_action_time trg_event ON_SYM table_ident FOR_SYM EACH_SYM ROW_SYM trigger_follows_precedes_clause $@61 sp_proc_stmt

udf_tail: AGGREGATE_SYM FUNCTION_SYM ident RETURNS_SYM udf_type SONAME_SYM TEXT_STRING_sys
| FUNCTION_SYM ident RETURNS_SYM udf_type SONAME_SYM TEXT_STRING_sys

$@62: %empty

$@63: %empty

$@64: %empty

$@65: %empty

sf_tail: FUNCTION_SYM sp_name '(' $@62 sp_fdparam_list ')' $@63 RETURNS_SYM type opt_collate $@64 sp_c_chistics $@65 sp_proc_stmt

$@66: %empty

$@67: %empty

$@68: %empty

$@69: %empty

sp_tail: PROCEDURE_SYM sp_name $@66 '(' $@67 sp_pdparam_list ')' $@68 sp_c_chistics $@69 sp_proc_stmt

xa: XA_SYM begin_or_start xid opt_join_or_resume
| XA_SYM END xid opt_suspend
| XA_SYM PREPARE_SYM xid
| XA_SYM COMMIT_SYM xid opt_one_phase
| XA_SYM ROLLBACK_SYM xid
| XA_SYM RECOVER_SYM opt_convert_xid

opt_convert_xid: %empty
| CONVERT_SYM XID_SYM

xid: text_string
| text_string ',' text_string
| text_string ',' text_string ',' ulong_num

begin_or_start: BEGIN_SYM
| START_SYM

opt_join_or_resume: %empty
| JOIN_SYM
| RESUME_SYM

opt_one_phase: %empty
| ONE_SYM PHASE_SYM

opt_suspend: %empty
| SUSPEND_SYM
| SUSPEND_SYM FOR_SYM MIGRATE_SYM

install: INSTALL_SYM PLUGIN_SYM ident SONAME_SYM TEXT_STRING_sys
| INSTALL_SYM COMPONENT_SYM TEXT_STRING_sys_list

uninstall: UNINSTALL_SYM PLUGIN_SYM ident
| UNINSTALL_SYM COMPONENT_SYM TEXT_STRING_sys_list

TEXT_STRING_sys_list: TEXT_STRING_sys
| TEXT_STRING_sys_list ',' TEXT_STRING_sys

import_stmt: IMPORT TABLE_SYM FROM TEXT_STRING_sys_list

clone_stmt: CLONE_SYM LOCAL_SYM DATA_SYM DIRECTORY_SYM opt_equal TEXT_STRING_filesystem
| CLONE_SYM INSTANCE_SYM FROM user ':' ulong_num IDENTIFIED_SYM BY TEXT_STRING_sys opt_datadir_ssl

opt_datadir_ssl: opt_ssl
| DATA_SYM DIRECTORY_SYM opt_equal TEXT_STRING_filesystem opt_ssl

opt_ssl: %empty
| REQUIRE_SYM SSL_SYM
| REQUIRE_SYM NO_SYM SSL_SYM

resource_group_types: USER
| SYSTEM_SYM

opt_resource_group_vcpu_list: %empty
| VCPU_SYM opt_equal vcpu_range_spec_list

vcpu_range_spec_list: vcpu_num_or_range
| vcpu_range_spec_list opt_comma vcpu_num_or_range

vcpu_num_or_range: NUM
| NUM '-' NUM

signed_num: NUM
| '-' NUM

opt_resource_group_priority: %empty
| THREAD_PRIORITY_SYM opt_equal signed_num

opt_resource_group_enable_disable: %empty
| ENABLE_SYM
| DISABLE_SYM

opt_force: %empty
| FORCE_SYM
